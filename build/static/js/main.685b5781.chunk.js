(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){"use strict";var r=n(41);n.d(t,"ViewMainSubs",function(){return r.a});n(42)},41:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=n(0),a=function(){return function(){}}(),o=function(e){function t(t,n){var r=e.call(this)||this;return r.renderSubs=function(){return r.subsContainer(r.renderSubItems())},r.main=t,r.sub=n,r}return r.d(t,e),t.prototype.subsContainer=function(e){return i.createElement("div",null,e)},t.prototype.renderSubItems=function(){var e=this,t=this.model.subs;return t?t.map(function(t,n){return i.createElement(e.sub,r.a({key:n},t))}):null},t.prototype.render=function(){var e=this.model.main;return i.createElement(i.Fragment,null,i.createElement(this.main,r.a({},e)),i.createElement(this.renderSubs,null))},t}(a);!function(e){function t(t,n,r){var i=e.call(this)||this;return i.row=t,i.main=n,i.sub=r,i}r.d(t,e),t.prototype.render=function(){var e=this;return i.createElement(i.Fragment,null,this.model.map(function(t,n){var r=new e.row(e.main,e.sub);return r.model=t,i.createElement(i.Fragment,{key:n},r.render())}))}}(a)},42:function(e,t){},48:function(e,t,n){e.exports=n(78)},53:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(28),a=n(1),o=(n(53),n(3)),c={tuid:{salestask:{content:function(e){var t=e.desciption,n=e.customer,i=e.type,a=e.sourceid;return r.createElement(r.Fragment,null,Object(o.w)(t),Object(o.w)(n),Object(o.w)(i),Object(o.w)(a))}}}},s=n(13),u=n.n(s),l=n(11),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onScrollBottom=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){return[2]})})},t.onSalesTaskClick=function(e){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(n){return t={id:e.id,type:e.type,biz:e.biz,description:e.description,remindDate:null,deadline:e.deadline,customer:e.customer},this.controller.showTaskDetailEdit(t),[2]})})},t.onSalesTaskAdd=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.showSelectTaskType()];case 1:return e.sent(),[2]}})})},t.renderSalesTask=function(e,n){var i=e.bizName,a=e.deadline,c=e.biz,s=e.customer,l=e.type,m=(e.typeName,e.priorty),d=u()({"my-1 mr-3":!0,"text-danger":m>0,"text-info":!(m>0)}),h=r.createElement("div",{className:d},t.controller.getTaskIcon(i)),p=r.createElement("div",{className:"text-right"},a&&r.createElement("small",{className:"text-muted"},"\u65f6\u9650\uff1a",r.createElement(o.c,{date:a})));return r.createElement(o.h,{className:"px-3 py-2",left:h},r.createElement(o.h,{className:"",right:p},r.createElement("div",{className:"font-weight-bold"},Object(o.w)(s,function(e){return r.createElement(r.Fragment,null,e.name)}))),r.createElement(o.h,{className:"",right:r.createElement("div",{className:"text-muted"},r.createElement("small",null,Object(o.w)(l,function(e){return r.createElement(r.Fragment,null,e.description)})))},r.createElement("div",{className:"text-muted"},r.createElement("small",null,Object(o.w)(c,function(e){return r.createElement(r.Fragment,null,e.description)})))))},t.page=Object(l.a)(function(){var e=t.controller.tasks;if(void 0===e)return null;var n=r.createElement("div",{className:"my-3 mx-2",style:{color:"#888"}},"\u65e0\u4efb\u52a1"),i=r.createElement("div",{onClick:t.onSalesTaskAdd,className:"cursor-pointer px-3 py-2"},r.createElement(o.e,{name:"plus"})),a={render:t.renderSalesTask,onClick:t.onSalesTaskClick},c=e.tasksNow,s=e.dateTasksList;return r.createElement(o.k,{header:"\u9500\u552e\u52a9\u624b",onScrollBottom:t.onScrollBottom,right:i,headerClassName:"bg-primary py-1"},0==c.length&&0==s.length&&n,c.length>0&&r.createElement(o.i,{before:"",none:n,items:c,item:a}),s.map(function(e,t){var i=e.date,c=e.list;return 0===c.length?null:r.createElement(r.Fragment,{key:t},r.createElement("div",{className:"small text-muted pt-3 px-3 pb-2 text-center"},r.createElement(o.c,{date:i})),r.createElement(o.i,{before:"",none:n,items:c,item:a}))}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t}(o.q),d=n(12),h=[{name:"resulttype",type:"string",required:!1},{name:"date",type:"string",required:!0},{name:"result",type:"string",required:!1}],p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dateVisible=!1,t.list=[{value:1,title:"\u660e\u5929"},{value:2,title:"\u540e\u5929"}],t.onChange=function(e){var n=e.currentTarget.value;t.dateVisible="0"===n;var r=new Date;if("1"===n){r.setDate(r.getDate()+1);var i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();t.setValue(i)}else if("2"===n){r.setDate(r.getDate()+2);i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();t.setValue(i)}},t.onDateChange=function(e){t.setValue(e.currentTarget.value)},t.render=function(){return r.createElement("div",{className:"form-control",style:{height:"auto"}},t.list.map(function(e,n){return r.createElement("label",{className:"my-1"},r.createElement("input",{type:"radio",value:e.value,name:"a",onChange:t.onChange})," ",e.title," \xa0 ")}),r.createElement("div",null,r.createElement("label",{className:"my-1"},r.createElement("input",{type:"radio",value:0,name:"a",onChange:t.onChange})," \u65e5\u671f \xa0 "),t.dateVisible&&r.createElement("input",{type:"date",defaultValue:(new Date).toDateString(),onChange:t.onDateChange})))},t}return a.d(t,e),a.c([d.l],t.prototype,"dateVisible",void 0),t}(o.s),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{resulttype:{visible:!1},date:{widget:"custom",label:"\u63d0\u9192\u65e5\u671f",WidgetClass:p},result:{widget:"textarea",label:"\u5907\u6ce8",placeholder:"\u8bf7\u8f93\u5165\u5904\u7406\u7ed3\u679c\uff01",rows:12},submit:{widget:"button",label:"\u63d0\u4ea4"}}},t.onExtensionTask=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){var e,t,r,i;return a.e(this,function(a){switch(a.label){case 0:return e=n.form.data,t=e.result,r=e.resulttype,i=e.date,[4,this.controller.extensionTask(this.task,t,r,i)];case 1:return a.sent(),this.closePage(2),[2]}})})},t.page=Object(l.a)(function(e){var n=r.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:t.onExtensionTask},"\u63d0\u4ea4");return r.createElement(o.k,{header:"\u63a8\u8fdf",footer:n,headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(o.f,{ref:function(e){return t.form=e},className:"my-3",schema:h,uiSchema:t.uiSchema,onButtonClick:t.onFormButtonClick})))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page,e),[2]})})},t}(o.q),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderHistory=function(e,t){var n=e.date,i=e.status,a=e.principal,c=e.result,s=r.createElement("small",{className:"text-muted"},a.id!==o.t.user.id&&r.createElement("span",{className:"text-muted small"}),Object(o.w)(i,function(e){return e.name})," ");return r.createElement("div",{className:"d-block p-3"},r.createElement(o.h,{left:r.createElement("small",{className:"text-muted"},r.createElement(o.c,{date:n})," "),right:r.createElement("small",{className:"text-muted"},s)}),r.createElement("div",null,c))},t.page=Object(l.a)(function(e){var n=r.createElement("div",{className:"m-3 text-muted small"},"\u3010\u672a\u5904\u7406\u3011");return r.createElement(o.k,{header:"\u5904\u7406\u8be6\u60c5"},r.createElement(o.i,{before:"",none:n,items:e.tasks,item:{render:t.renderHistory}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t}(o.q),b=u()("w-100 py-3","cursor-pointer"),g=r.createElement("div",{className:"w-2c text-right"},r.createElement("i",{className:"fa fa-chevron-right"})),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.render=function(e){var t=this,n=this.controller.cSalesTask,i=n.showCustomerDetail,c=(n.showTaskHistory,e.type),s=e.biz,u=e.customer,l=e.description,m=e.deadline,d=(e.id,[{type:"component",name:"type",component:r.createElement(o.h,{className:b,left:r.createElement("div",{className:"mr-2 "}," ",r.createElement(o.e,{name:"bookmark-o",className:"text-info mr-2 pt-1"})," ")},r.createElement("span",{className:"font-weight-bold mr-3 my-3"},Object(o.w)(c,function(e){return r.createElement(r.Fragment,null,e.description)})," "),"  ",Object(o.w)(s,function(e){return r.createElement(r.Fragment,null,e.description)}))},{type:"component",name:"customer",component:r.createElement(o.h,{className:b,onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,i(u.id)];case 1:return[2,e.sent()]}})})},left:r.createElement("div",{className:"mr-2"}," ",r.createElement(o.e,{name:"user",className:"text-info mr-2 pt-1"})," "),right:g},Object(o.w)(u,function(e){return r.createElement(r.Fragment,null,e.name)}))}]);return m&&d.push({type:"component",name:"deadline",component:r.createElement(o.h,{className:"w-100 py-3",left:r.createElement("div",{className:"mr-2"}," ",r.createElement(o.e,{name:"clock-o",className:"text-info mr-2 pt-1 "})," ")},r.createElement(o.c,{date:m}))}),l&&d.push({type:"component",name:"description",component:r.createElement("div",{className:"w-100 py-3"},l)}),r.createElement(o.m,{className:"my-2",rows:d,values:e})},t}(o.r),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemss="cursor-pointer my-2 w-100",t}return a.d(t,e),t.prototype.render=function(e){var t=this,n=this.controller.cSalesTask.showCustomerDetail,i=e.customer,c=[{type:"component",name:"customer",component:r.createElement(o.h,{className:this.itemss,onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,n(i.id)];case 1:return[2,e.sent()]}})})},left:r.createElement("div",null," ",r.createElement(o.e,{name:"user",className:"text-info mr-2 pt-1 "})," "),right:r.createElement("div",{className:"text-right"},r.createElement("i",{className:"fa fa-chevron-right"}))},Object(o.w)(i,function(e){return r.createElement(r.Fragment,null,e.name)}))}];return r.createElement(o.m,{className:"my-2",rows:c,values:e})},t}(o.r),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.render=function(e){var t=this,n=this.controller.cSalesTask,i=n.showTaskComplet,o=n.showTaskExtension,c=n.showTaskInvalid,s={id:e.id,type:e.type,biz:e.biz,description:null,remindDate:null,deadline:null,customer:e.customer};return r.createElement("div",{className:"d-flex px-1"},r.createElement("div",{className:"flex-grow-1 align-self-center justify-content-start"},r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,i(s)];case 1:return[2,e.sent()]}})})}},"\xa0\u5904\u7406\xa0")),r.createElement("button",{type:"button",className:"btn btn-outline-info ml-2 align-self-center",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,o(s)];case 1:return[2,e.sent()]}})})}},"\u5ef6\u8fdf"),r.createElement("button",{type:"button",className:"btn btn-outline-info ml-2 align-self-center",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,c(s)];case 1:return[2,e.sent()]}})})}},"\u53d6\u6d88"))},t}(o.r),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.render=function(e){var t=this.controller.cSalesTask.getCommonType(e.biz.obj.name).taskCommonType.completuiSchema,n=e.fields;return void 0===n?r.createElement(r.Fragment,null):r.createElement("div",{className:"w-100"},n.map(function(e,n){var i,a=e.fieldName,c=e.value,s=t.items[a],u=s.label,l=s.list,m=r.createElement("div",{className:""},r.createElement(o.e,{name:"caret-right",className:"small text-info",fixWidth:!0}),u||a);return l&&(i=l.find(function(e){return e.value===c})),r.createElement("div",{className:"row bg-white py-2",key:n},r.createElement("div",{className:"col-4 align-self-center"},m),r.createElement("div",{className:"col-8"},i?i.title:c," "))}))},t}(o.r),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(e){return t.render(e)}),t.onCompletionTask=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){var e,t;return a.e(this,function(r){switch(r.label){case 0:return e=this.controller.taskCommonType.completSchema,t=e.map(function(e,t){var r=e.name;return{fieldName:r,value:n.form.data[r]}}),this.task.fields=t,[4,this.controller.cSalesTask.finishTask(this.task)];case 1:return r.sent(),this.closePage(2),[2]}})})},t.onCreateProduct=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.cSalesTask.showPorductSelect(this.task)];case 1:return e.sent(),[2]}})})},t.onCreateProject=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.cSalesTask.showCreateProject(this.task)];case 1:return e.sent(),[2]}})})},t.onCreateProjectPack=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.cSalesTask.showPorductPackSelect(this.task)];case 1:return e.sent(),[2]}})})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){var t=this;this.task=e;var n=this.controller.taskCommonType,i=n.completSchema,c=n.completuiSchema,s=this.controller.cSalesTask,u=s.showTaskProductDetail,l=s.showTaskProjectDetail,m=s.showTaskProjectPackDetail,d="bg-white row my-1 py-2";return r.createElement("div",{className:"mx-3"},r.createElement(o.f,{ref:function(e){return t.form=e},schema:i,uiSchema:c,onButtonClick:this.onFormButtonClick,requiredFlag:!1}),r.createElement(o.h,{className:d,right:r.createElement("div",{onClick:this.onCreateProduct,className:"mr-3"},r.createElement(o.e,{name:"plus"}))},r.createElement("div",{className:"w-100 ml-3",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,u(this.task)];case 1:return[2,e.sent()]}})})}},"\u4ea7\u54c1\u5217\u8868 ",r.createElement("span",{className:"fa-stack"}))),r.createElement(o.h,{className:d,right:r.createElement("div",{onClick:this.onCreateProjectPack,className:"mr-3"},r.createElement(o.e,{name:"plus"}))},r.createElement("div",{className:"w-100 ml-3",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,m(this.task)];case 1:return[2,e.sent()]}})})}},"\u5305\u88c5\u5217\u8868 ",r.createElement("span",{className:"fa-stack"}))),r.createElement(o.h,{className:d,right:r.createElement("div",{onClick:this.onCreateProject,className:"mr-3"},r.createElement(o.e,{name:"plus"}))},r.createElement("div",{className:"w-100 ml-3",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,l(this.task)];case 1:return[2,e.sent()]}})})}},"\u9879\u76ee\u5217\u8868 ",r.createElement("span",{className:"fa-stack"}))),r.createElement("button",{type:"button",className:"btn btn-primary w-100  my-3",onClick:this.onCompletionTask},"\u63d0\u4ea4"))},t}(o.q),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon="plus",t.renderDetailValues=function(e){var n=t,i=n.caption,a=n.renderDetailTop,c=n.renderDetailContent;return r.createElement(o.k,{header:i,headerClassName:"bg-primary"},a(e),c(e))},t.renderDetailEdit=function(e){var n=t,i=n.caption,a=n.renderDetailTop,c=n.renderActionsBottom,s=n.renderDetailContent;return r.createElement(o.k,{header:i,footer:c(e),headerClassName:"bg-primary"},a(e),s(e))},t.renderDetailTop=function(e){return t.renderView(y,e)},t.renderDetailContent=function(e){return t.renderView(k,e)},t.renderActionsBottom=function(e){return t.renderView(w,e)},t.renderComplet=function(e){var n=t.caption;return r.createElement(o.k,{header:n,headerClassName:"bg-primary"},t.renderCompletContent(e))},t.renderCompletContent=function(e){return t.renderView(C,e)},t.renderCreateTop=function(e){return t.renderView(E,e)},t}return a.d(t,e),t.prototype.showDetailFromId=function(e){return a.b(this,void 0,Promise,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.cSalesTask.loadTask(e)];case 1:return t=n.sent(),this.openPage(this.renderDetailValues(t)),[2]}})})},t.prototype.showDetailEdit=function(e){return a.b(this,void 0,Promise,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.cSalesTask.loadTask(e.id)];case 1:return t=n.sent(),e.fields=t.fields,this.openPage(this.renderDetailEdit(e)),[2]}})})},t.prototype.showComplet=function(e){return a.b(this,void 0,Promise,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.cSalesTask.loadTask(e.id)];case 1:return t=n.sent(),this.openPage(this.renderComplet(t)),[2]}})})},t.prototype.showCreate=function(e){return a.b(this,void 0,Promise,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,e.biz.assure()];case 1:return t.sent(),this.openPage(r.createElement(o.k,{header:"biz.name"},"\u6ca1\u6709\u7ee7\u627fshowCreate\uff01")),[2]}})})},t}(o.b),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAddTask=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){return this.task.description=void 0,this.task.deadline=void 0,this.controller.getCTaskType(this.task.biz.name).showCreate(this.task),[2]})})},t.onFinishTask=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.task.priorty=0,[4,this.controller.createAndFinishTask(this.task)];case 1:return e.sent(),this.closePage(),[2]}})})},t.page=Object(l.a)(function(e){return t.render(e)}),t.itemss="cursor-pointer my-2 w-100",t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){var t=this,n=this.controller.cApp.cSalesTask.showCustomerDetail,i=e.customer,c=e.type,s=e.biz,u=[{type:"component",name:"type",component:r.createElement(o.h,{className:this.itemss,left:r.createElement("div",null," ",r.createElement(o.e,{name:"bookmark-o",className:"text-info mr-2 pt-1"})," ")},r.createElement("span",{className:"font-weight-bold mr-3"},Object(o.w)(c,function(e){return r.createElement(r.Fragment,null,e.description)})," "),"  ",Object(o.w)(s,function(e){return r.createElement(r.Fragment,null,e.description)}))},{type:"component",name:"customer",component:r.createElement(o.h,{className:this.itemss,onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,n(i.id)];case 1:return[2,e.sent()]}})})},left:r.createElement("div",null," ",r.createElement(o.e,{name:"user",className:"text-info mr-2 pt-1 "})," "),right:r.createElement("div",{className:"text-right"},r.createElement("i",{className:"fa fa-chevron-right"}))},Object(o.w)(i,function(e){return r.createElement(r.Fragment,null,e.name)}))}],l=r.createElement("div",{className:"d-flex px-1"},r.createElement("div",{className:"flex-grow-1 align-self-center justify-content-start"},r.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onAddTask},"\xa0\u65b0\u5efa\xa0")),r.createElement("button",{type:"button",className:"btn btn-outline-info ml-2 align-self-center",onClick:this.onFinishTask},"\u5904\u7406")),m=r.createElement("div",null,this.task.biz.description,"\xa0");return r.createElement(o.k,{header:m,footer:l,headerClassName:"bg-primary"},r.createElement(o.m,{className:"my-2",rows:u,values:e}))},t}(o.q),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAddSalesTask=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){var e,t,r,i;return a.e(this,function(a){switch(a.label){case 0:return e=n.form.data,t=e.description,r=e.priorty,i=e.deadline,this.task.description=t,this.task.priorty=r,this.task.deadline=i,[4,this.controller.cSalesTask.createTask(n.form.data,this.task)];case 1:return a.sent(),this.closePage(5),[2]}})})},t.page=Object(l.a)(function(e){return t.render(e)}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){var t=this,n=this.controller.taskCommonType,i=n.schema,a=n.uiSchema,c=r.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:this.onAddSalesTask},"\u4fdd\u5b58");return r.createElement(o.k,{header:this.controller.caption,footer:c,headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},this.controller.renderCreateTop(e),r.createElement(o.f,{ref:function(e){return t.form=e},className:"my-3",schema:i,uiSchema:a,onButtonClick:this.onFormButtonClick,requiredFlag:!1})))},t}(o.q),x=function(e){function t(t,n){var r=e.call(this,n)||this;return r.showCrateCheck=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage(P,e),[2]})})},r.taskCommonType=t,r.icon=t.icon,r.caption=t.caption,r}return a.d(t,e),t.prototype.internalStart=function(e){},t.prototype.showCreate=function(e){return a.b(this,void 0,Promise,function(){return a.e(this,function(t){return this.openVPage(S,e),[2]})})},t}(N),T={caption:"\u7ec4\u5408\u8425\u9500",icon:r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u7ed3\u6848",defaultValue:1,list:[{value:0,title:"\u6210\u529f"},{value:1,title:"\u5931\u8d25"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},q={caption:"\u4ea7\u54c1\u8bd5\u7528",icon:r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"},description2:{widget:"radio",label:"\u63cf\u8ff02",defaultValue:1,list:[{value:0,title:"\u5973"},{value:1,title:"\u7537"}]}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u7ed3\u6848",defaultValue:1,list:[{value:0,title:"\u6210\u529f"},{value:1,title:"\u5931\u8d25"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},A={caption:"\u5927\u989d\u8ba2\u5355\u53d6\u6d88",icon:r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}),schema:[{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1},{name:"description",type:"string",required:!1}],uiSchema:{items:{priorty:{widget:"radio",label:"\u91cd\u8981\u6027",defaultValue:0,list:[{value:0,title:"\u4e00\u822c"},{value:1,title:"\u91cd\u8981"}]},deadline:{widget:"date",label:"\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},description:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5907\u6ce8"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u7ed3\u6848",defaultValue:1,list:[{value:0,title:"\u6210\u529f"},{value:1,title:"\u5931\u8d25"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},j={caption:"\u5927\u989d\u8ba2\u5355\u8ddf\u8e2a",icon:r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}),schema:[{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1},{name:"description",type:"string",required:!1}],uiSchema:{items:{priorty:{widget:"radio",label:"\u91cd\u8981\u6027",defaultValue:0,list:[{value:0,title:"\u4e00\u822c"},{value:1,title:"\u91cd\u8981"}]},deadline:{widget:"date",label:"\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},description:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5907\u6ce8"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u7ed3\u6848",defaultValue:1,list:[{value:0,title:"\u6210\u529f"},{value:1,title:"\u5931\u8d25"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},I={caption:"\u5ba2\u6237\u8ba1\u5212\u672a\u8fbe\u6807",icon:r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u7ed3\u6848",defaultValue:1,list:[{value:0,title:"\u6210\u529f"},{value:1,title:"\u5931\u8d25"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},V={caption:"\u5355\u4e00\u4ea7\u54c1\u91cd\u590d\u91c7\u8d2d",icon:r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"},description2:{widget:"radio",label:"\u63cf\u8ff02",defaultValue:1,list:[{value:0,title:"\u5973"},{value:1,title:"\u7537"}]}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u7ed3\u6848",defaultValue:1,list:[{value:0,title:"\u6210\u529f"},{value:1,title:"\u5931\u8d25"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},B={caption:"\u5927\u5305\u88c5\u62a5\u4ef7\u8ddf\u8e2a",icon:r.createElement(o.e,{name:"shopping-bag",size:"lg",fixWidth:!0}),schema:[{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1},{name:"description",type:"string",required:!1}],uiSchema:{items:{priorty:{widget:"radio",label:"\u91cd\u8981\u6027",defaultValue:0,list:[{value:0,title:"\u4e00\u822c"},{value:1,title:"\u91cd\u8981"}],radioClassName:"w-min-6c d-inline-block"},deadline:{widget:"date",label:"\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},description:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5907\u6ce8"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u4e22\u5355\u539f\u56e0",defaultValue:1,list:[{value:0,title:"\u8d27\u671f"},{value:1,title:"\u4ef7\u683c"},{value:1,title:"\u8d28\u91cf"},{value:1,title:"\u8d44\u8d28"},{value:1,title:"\u53d1\u7968"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},D={caption:"\u8bd5\u5242\u62a5\u4ef7\u8ddf\u8e2a",icon:r.createElement(o.e,{name:"shopping-bag",size:"lg",fixWidth:!0}),schema:[{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1},{name:"description",type:"string",required:!1}],uiSchema:{items:{priorty:{widget:"radio",label:"\u91cd\u8981\u6027",defaultValue:0,list:[{value:0,title:"\u4e00\u822c"},{value:1,title:"\u91cd\u8981"}]},deadline:{widget:"date",label:"\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},description:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5907\u6ce8"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u4e22\u5355\u539f\u56e0",defaultValue:1,list:[{value:0,title:"\u8d27\u671f"},{value:1,title:"\u4ef7\u683c"},{value:1,title:"\u8d28\u91cf"},{value:1,title:"\u8d44\u8d28"},{value:1,title:"\u53d1\u7968"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},O={caption:"\u8ba2\u5355\u50ac\u7b7e\u8fd4",icon:r.createElement(o.e,{name:"shopping-bag",size:"lg",fixWidth:!0}),schema:[{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1},{name:"description",type:"string",required:!1}],uiSchema:{items:{priorty:{widget:"radio",label:"\u91cd\u8981\u6027",defaultValue:0,list:[{value:0,title:"\u4e00\u822c"},{value:1,title:"\u91cd\u8981"}]},deadline:{widget:"date",label:"\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},description:{widget:"text",label:"\u5907\u6ce8",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5907\u6ce8"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},completSchema:[{name:"result",type:"string",required:!1}],completuiSchema:{items:{result:{widget:"radio",label:"\u4e22\u5355\u539f\u56e0",defaultValue:1,list:[{value:0,title:"\u8d27\u671f"},{value:1,title:"\u4ef7\u683c"},{value:1,title:"\u8d28\u91cf"},{value:1,title:"\u8d44\u8d28"},{value:1,title:"\u53d1\u7968"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},z={caption:"\u5ba2\u6237\u5f00\u53d1",icon:r.createElement(o.e,{name:"address-book",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"},description2:{widget:"radio",label:"\u63cf\u8ff02",defaultValue:1,list:[{value:0,title:"\u5973"},{value:1,title:"\u7537"}]}}},completSchema:[{name:"name",type:"string",required:!1},{name:"telephone",type:"number",required:!1},{name:"email",type:"string",required:!1},{name:"wechat",type:"string",required:!1},{name:"teacher",type:"string",required:!1},{name:"potential",type:"string",required:!1},{name:"research",type:"string",required:!1}],completuiSchema:{items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},telephone:{widget:"text",label:"\u7535\u8bdd",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"},email:{widget:"text",label:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},wechat:{widget:"text",label:"\u5fae\u4fe1",placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u53f7"},teacher:{widget:"text",label:"\u8001\u5e08",placeholder:"\u8bf7\u8f93\u5165\u8001\u5e08"},potential:{widget:"radio",label:"\u6f5c\u529b\u503c",defaultValue:1,list:[{value:0,title:"\u5c0f\u4e8e10\u4e07"},{value:1,title:"10\u4e07-30\u4e07"},{value:2,title:"\u5927\u4e8e30\u4e07"}]},research:{widget:"radio",label:"\u7814\u7a76\u65b9\u5411",defaultValue:1,list:[{value:0,title:"\u6709\u673a"},{value:1,title:"\u5316\u5b66"},{value:1,title:"\u5206\u6790"},{value:1,title:"\u6750\u6599"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},M={caption:"\u65b0\u5ba2\u6237\u5f00\u53d1",icon:r.createElement(o.e,{name:"address-book",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"},description2:{widget:"radio",label:"\u63cf\u8ff02",defaultValue:1,list:[{value:0,title:"\u5973"},{value:1,title:"\u7537"}]}}},completSchema:[{name:"name",type:"string",required:!1},{name:"telephone",type:"number",required:!1},{name:"email",type:"string",required:!1},{name:"wechat",type:"string",required:!1},{name:"teacher",type:"string",required:!1},{name:"potential",type:"string",required:!1},{name:"research",type:"string",required:!1}],completuiSchema:{items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},telephone:{widget:"text",label:"\u7535\u8bdd",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"},email:{widget:"text",label:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},wechat:{widget:"text",label:"\u5fae\u4fe1",placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u53f7"},teacher:{widget:"text",label:"\u8001\u5e08",placeholder:"\u8bf7\u8f93\u5165\u8001\u5e08"},potential:{widget:"radio",label:"\u6f5c\u529b\u503c",defaultValue:1,list:[{value:0,title:"\u5c0f\u4e8e10\u4e07"},{value:1,title:"10\u4e07-30\u4e07"},{value:2,title:"\u5927\u4e8e30\u4e07"}]},research:{widget:"radio",label:"\u7814\u7a76\u65b9\u5411",defaultValue:1,list:[{value:0,title:"\u6709\u673a"},{value:1,title:"\u5316\u5b66"},{value:1,title:"\u5206\u6790"},{value:1,title:"\u6750\u6599"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},F={reagent:D,nonreagent:B,signback:O,bagorder:j,bagordercancel:A,marketing:T,notuptostandard:I,repeatpurchase:V,trial:q,customerdev:z,customerinfodev:{caption:"\u5ba2\u6237\u4fe1\u606f\u5f00\u53d1",icon:r.createElement(o.e,{name:"address-book",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"},description2:{widget:"radio",label:"\u63cf\u8ff02",defaultValue:1,list:[{value:0,title:"\u5973"},{value:1,title:"\u7537"}]}}},completSchema:[{name:"name",type:"string",required:!1},{name:"telephone",type:"number",required:!1},{name:"email",type:"string",required:!1},{name:"wechat",type:"string",required:!1},{name:"teacher",type:"string",required:!1},{name:"potential",type:"string",required:!1},{name:"research",type:"string",required:!1}],completuiSchema:{items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},telephone:{widget:"text",label:"\u7535\u8bdd",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"},email:{widget:"text",label:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},wechat:{widget:"text",label:"\u5fae\u4fe1",placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u53f7"},teacher:{widget:"text",label:"\u8001\u5e08",placeholder:"\u8bf7\u8f93\u5165\u8001\u5e08"},potential:{widget:"radio",label:"\u6f5c\u529b\u503c",defaultValue:1,list:[{value:0,title:"\u5c0f\u4e8e10\u4e07"},{value:1,title:"10\u4e07-30\u4e07"},{value:2,title:"\u5927\u4e8e30\u4e07"}]},research:{widget:"radio",label:"\u7814\u7a76\u65b9\u5411",defaultValue:1,list:[{value:0,title:"\u6709\u673a"},{value:1,title:"\u5316\u5b66"},{value:1,title:"\u5206\u6790"},{value:1,title:"\u6750\u6599"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},newcustomerdev:M,graduation:{caption:"\u6bd5\u4e1a\u6e05\u6d17",icon:r.createElement(o.e,{name:"address-book",size:"lg",fixWidth:!0}),schema:[{name:"description",type:"string",required:!1},{name:"priorty",type:"number",required:!1},{name:"deadline",type:"string",required:!1}],uiSchema:{items:{description:{widget:"text",label:"\u5185\u5bb9",placeholder:"\u8bf7\u586b\u5199\u4efb\u52a1\u5185\u5bb9"},priorty:{widget:"checkbox",label:"\u91cd\u8981\u6027",placeholder:"\u91cd\u8981\u6027"},deadline:{widget:"date",label:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4",placeholder:"\u8981\u6c42\u5b8c\u6210\u65f6\u95f4"},submit:{widget:"button",label:"\u63d0\u4ea4"},description2:{widget:"radio",label:"\u63cf\u8ff02",defaultValue:1,list:[{value:0,title:"\u5973"},{value:1,title:"\u7537"}]}}},completSchema:[{name:"name",type:"string",required:!1},{name:"telephone",type:"number",required:!1},{name:"email",type:"string",required:!1},{name:"wechat",type:"string",required:!1},{name:"teacher",type:"string",required:!1},{name:"potential",type:"string",required:!1},{name:"research",type:"string",required:!1}],completuiSchema:{items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},telephone:{widget:"text",label:"\u7535\u8bdd",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"},email:{widget:"text",label:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},wechat:{widget:"text",label:"\u5fae\u4fe1",placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u53f7"},teacher:{widget:"text",label:"\u8001\u5e08",placeholder:"\u8bf7\u8f93\u5165\u8001\u5e08"},potential:{widget:"radio",label:"\u6f5c\u529b\u503c",defaultValue:1,list:[{value:0,title:"\u5c0f\u4e8e10\u4e07"},{value:1,title:"10\u4e07-30\u4e07"},{value:2,title:"\u5927\u4e8e30\u4e07"}]},research:{widget:"radio",label:"\u7814\u7a76\u65b9\u5411",defaultValue:1,list:[{value:0,title:"\u6709\u673a"},{value:1,title:"\u5316\u5b66"},{value:1,title:"\u5206\u6790"},{value:1,title:"\u6750\u6599"}]},submit:{widget:"button",label:"\u63d0\u4ea4"}}}},newcustomer:M};var U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderList=function(e,n){var i=e.description,a=e.name,c=r.createElement("div",{className:"text-info mr-3"},t.controller.cSalesTask.getTaskIcon(a));return r.createElement(o.h,{className:"px-3 py-2",left:c},r.createElement("div",{className:"font-weight-bold"},i))},t.onClickTaskType=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.selectTaskType(e)];case 1:return t.sent(),[2]}})})},t.ai=function(){var e=t.controller.cSalesTask.cApp.cCustomer,n=(r.createElement(o.h,{className:"p-3 bg-white mb-1 cursor-pointer",left:r.createElement(o.e,{className:"text-success mr-3 mt-1",name:"android",size:"lg",fixWidth:!0}),onClick:t.controller.aiClick},r.createElement("div",{className:"font-weight-bold"},"\u5e2e\u6211\u627e\u627e\u673a\u4f1a")),r.createElement(o.h,{className:"p-3 bg-white mb-1 cursor-pointer",left:r.createElement(o.e,{className:"text-success mr-3 mt-1",name:"vcard",size:"lg",fixWidth:!0}),onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,e.showSelectCustomerUnit()];case 1:return[2,t.sent()]}})})}},r.createElement("div",{className:"font-weight-bold"},"\u65b0\u5efa\u5ba2\u6237")));return r.createElement("div",null,n)},t.page=function(e){var n=t.controller.tasktypelist,i=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u65e0\u4efb\u52a1\u7c7b\u578b\uff01");return r.createElement(o.k,{header:"\u65b0\u5efa\u4efb\u52a1",headerClassName:"bg-primary"},t.ai(),r.createElement(o.i,{none:i,items:n,item:{render:t.renderList,onClick:t.onClickTaskType}}))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t}(o.q),W={uqSalesTask:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/salestask",uqCustomer:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/customer",uqProduct:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/product",uqCommon:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/common",uqPromotion:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/promotion",uqWarehouse:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/warehouse",appIcon:"http://101.200.46.56/imgs/Bear-icon.png",headerClass:"bg-primary py-1"},L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItem=function(e,t){e.bizName;var n=e.deadline,i=e.biz,a=e.customer,c=e.type,s=(e.typeName,e.priorty),l=u()({"my-1 mr-3":!0,"text-danger":s>0,"text-info":!(s>0)}),m=r.createElement("div",{className:l}),d=r.createElement("div",{className:"text-right"},n&&r.createElement("small",{className:"text-muted"},"\u65f6\u9650\uff1a",r.createElement(o.c,{date:n})));return r.createElement(o.h,{className:"px-3 py-2",left:m},r.createElement(o.h,{className:"",right:d},r.createElement("div",{className:"font-weight-bold"},Object(o.w)(a,function(e){return r.createElement(r.Fragment,null,e.name)}))),r.createElement(o.h,{className:"",right:r.createElement("div",{className:"text-muted"},r.createElement("small",null,Object(o.w)(c,function(e){return r.createElement(r.Fragment,null,e.description)})))},r.createElement("div",{className:"text-muted"},r.createElement("small",null,Object(o.w)(i,function(e){return r.createElement(r.Fragment,null,e.description)})))))},t.onClickJKTask=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.showJkTaskDetail(e)];case 1:return t.sent(),[2]}})})},t.page=Object(l.a)(function(){var e=t.controller.pageMyJKTask,n=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u6b63\u5728\u7b79\u5907\u4e2d");return r.createElement(o.k,{header:"AI",headerClassName:W.headerClass},r.createElement(o.i,{none:n,items:e,item:{render:t.renderItem,onClick:t.onClickJKTask}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},a.c([d.l],t.prototype,"finished",void 0),t}(o.q),K="w-100 py-3",Q=u()(K,"cursor-pointer"),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCancel=function(){t.closePage()},t.onCreate=function(){t.controller.createTask(t.task),t.closePage(3)},t.page=Object(l.a)(function(){var e=t.task,n=e.type,i=e.biz,a=e.customer,c=e.deadline,s=e.description,u=[{type:"component",name:"type",component:r.createElement(o.h,{className:Q,left:r.createElement("div",{className:"mr-2 "}," ",r.createElement(o.e,{name:"bookmark-o",className:"text-info mr-2 pt-1"})," ")},r.createElement("span",{className:"font-weight-bold mr-3 my-3"},Object(o.w)(n,function(e){return r.createElement(r.Fragment,null,e.description)})," "),"  ",Object(o.w)(i,function(e){return r.createElement(r.Fragment,null,e.description)}))},{type:"component",name:"customer",component:r.createElement(o.h,{className:Q,onClick:null,left:r.createElement("div",{className:"mr-2"}," ",r.createElement(o.e,{name:"user",className:"text-info mr-2 pt-1"})," ")},Object(o.w)(a,function(e){return r.createElement(r.Fragment,null,e.name)}))}];c&&u.push({type:"component",name:"deadline",component:r.createElement(o.h,{className:K,left:r.createElement("div",{className:"mr-2"}," ",r.createElement(o.e,{name:"clock-o",className:"text-info mr-2 pt-1 "})," ")},r.createElement(o.c,{date:c}))}),s&&u.push({type:"component",name:"description",component:r.createElement("div",{className:"w-100 py-3"},s)});var l=r.createElement("div",{className:"flex-grow-1 align-self-center justify-content-start"},r.createElement("button",{type:"button",className:"btn btn-primary",onClick:t.onCreate},"\xa0\u6dfb\u52a0\xa0")),m=r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-outline-info ml-2 align-self-center"},"\u64a4\u9500"),r.createElement("button",{type:"button",className:"btn btn-outline-info ml-2 align-self-center",onClick:t.onCancel},"\u53d6\u6d88"));return r.createElement(o.k,{header:"\u4efb\u52a1\u8be6\u7ec6",headerClassName:W.headerClass},r.createElement(o.m,{className:"my-2",rows:u,values:t.task}),r.createElement(o.h,{className:" mx-3 ",left:l,right:m}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page),[2]})})},a.c([d.l],t.prototype,"task",void 0),t}(o.q),R=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),J=function(e){function t(t,n){var r=e.call(this,n)||this;r.selectTaskType=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.task={id:null,type:e,biz:null,description:null,remindDate:null,deadline:null,customer:null},this.cSalesTask.cSalesTaskBiz.start(this.task),[2]})})},r.returnTaskType=function(e){return a.b(r,void 0,Promise,function(){return a.e(this,function(t){return this.returnCall(e),[2]})})},r.aiClick=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){return this.pageMyJKTask=new R(this.querySearchJKTask),this.pageMyJKTask.first({key:void 0}),this.openVPage(L),[2]})})},r.showJkTaskDetail=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.searchCustomerRelation(e.customer.id)];case 1:return t.sent(),this.openVPage(H,e),[2]}})})},r.createTask=function(e){return a.b(r,void 0,void 0,function(){var t,n,r;return a.e(this,function(i){switch(i.label){case 0:return t=e.id,n=e.customer,r=n.obj.name,[4,this.actionImportTask.submit({task:t,customername:r,organization:this.organization.id,organizationName:this.organization.name})];case 1:return i.sent(),[4,this.cSalesTask.searchTaskByKey("")];case 2:return i.sent(),[2]}})})},r.searchCustomerRelation=function(e){return a.b(r,void 0,void 0,function(){var t,n,r;return a.e(this,function(i){switch(i.label){case 0:return{id:e},[4,this.querygetCustomerOrganization.query({customerId:e})];case 1:return(t=i.sent())&&t.ret.length>0?(n=t.ret[0].organization,r=this,[4,this.tuidOrganization.load(n)]):[3,3];case 2:r.organization=i.sent(),i.label=3;case 3:return[2]}})})},r.cSalesTask=t,r.pageMyJKTask=null;var i=r.cSalesTask.cApp,o=i.cUqSalesTask,c=i.cUqCustomer;return r.tuidTaskType=o.tuid("tasktype"),r.tuidOrganization=o.tuid("Organization"),r.querySearchJKTask=o.query("SearchJKTask"),r.querygetCustomerOrganization=c.query("getCustomerOrganization"),r.actionImportTask=o.action("ImportTask"),r}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return this.customerid=e,[4,this.searchByKey("")];case 1:return t.sent(),this.openVPage(U,e),[2]}})})},t.prototype.searchByKey=function(e){return a.b(this,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return t=this,[4,this.tuidTaskType.search(e,0,100)];case 1:return t.tasktypelist=n.sent(),[2]}})})},a.c([d.l],t.prototype,"tasktypelist",void 0),a.c([d.l],t.prototype,"pageMyJKTask",void 0),a.c([d.l],t.prototype,"organization",void 0),t}(o.b),G=n(16),Y=n.n(G),$=function(){function e(e){this.tasksNow=d.l.array([],{deep:!0}),this.dateTasksList=d.l.array([],{deep:!0});for(var t=0,n=e;t<n.length;t++){var r=n[t];this.add(r)}}return e.prototype.postPone=function(e,t){this.remove(t);var n=Y.a.clone(t);n.remindDate=e,this.add(n)},e.prototype.add=function(e){var t=e.remindDate;if(t){var n=this.dateTasksList.find(function(e){return e.date.getTime()===t.getTime()});void 0===n?(n={date:t,list:[e]},this.dateTasksList.push(n)):n.list.push(e)}else this.tasksNow.push(e)},e.prototype.remove=function(e){var t=this.tasksNow.findIndex(function(t){return t.id===e.id});if(t>=0)this.tasksNow.splice(t,1);else for(var n=this.dateTasksList.length,r=0;r<n;r++){var i=this.dateTasksList[r].list;if((t=i.findIndex(function(t){return t.id===e.id}))>=0)return i.splice(t,1),void(0===i.length&&this.dateTasksList.splice(r,1))}},a.c([d.l],e.prototype,"tasksNow",void 0),a.c([d.l],e.prototype,"dateTasksList",void 0),e}(),X=[{name:"resulttype",type:"id",required:!1},{name:"result",type:"string",required:!1}],Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{resulttype:{visible:!1},result:{widget:"textarea",label:"\u539f\u56e0",placeholder:"\u8bf7\u8f93\u5165\u53d6\u6d88\u539f\u56e0\uff01",rows:12},submit:{widget:"button",label:"\u63d0\u4ea4"}}},t.onInvalidTask=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){var e,t,r;return a.e(this,function(i){switch(i.label){case 0:return e=n.form.data,t=e.result,r=e.resulttype,[4,this.controller.onInvalidTask(this.task,t,r)];case 1:return i.sent(),this.closePage(2),[2]}})})},t.page=Object(l.a)(function(e){var n=r.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:t.onInvalidTask},"\u63d0\u4ea4");return r.createElement(o.k,{header:"\u53d6\u6d88",footer:n,headerClassName:"bg-primary"},r.createElement("div",{className:"App-container container text-left"},r.createElement(o.f,{ref:function(e){return t.form=e},className:"my-3",schema:X,uiSchema:t.uiSchema,onButtonClick:t.onFormButtonClick})))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page,e),[2]})})},t}(o.q),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderHistory=function(e,t){var n=e.task,i=e.date,a=e.status;e.biz,e.result;return r.createElement("div",{className:"d-block p-3"},r.createElement(o.h,null,r.createElement("div",null,r.createElement("small",{className:"text-muted"},r.createElement(o.c,{date:i})," ")),r.createElement(o.h,{right:r.createElement("small",null,"  ",Object(o.w)(a,function(e){return e.name})),left:r.createElement("div",null,r.createElement("span",null,r.createElement(o.e,{name:"user",className:"mr-3 text-info"})),Object(o.w)(n,function(e){return Object(o.w)(e.customer,function(e){return e.name})}))}),r.createElement(o.h,{right:r.createElement("small",null,Object(o.w)(n,function(e){return Object(o.w)(e.type,function(e){return e.description||"#"})})),left:r.createElement("small",null,Object(o.w)(n,function(e){return Object(o.w)(e.biz,function(e){return e.description||"#"})}))})))},t.onTaskClick=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){return this.controller.showDetailFromId(e.task.obj),[2]})})},t.page=Object(l.a)(function(){var e=r.createElement("div",{className:"m-3 text-muted small"},"\u3010\u65e0\u8bb0\u5f55\u3011");return r.createElement(o.k,{header:"\u5df2\u5b8c\u6210\u4efb\u52a1",headerClassName:W.headerClass},r.createElement(o.i,{before:"",none:e,items:t.tasks,item:{render:t.renderHistory,onClick:t.onTaskClick}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return e.length>0?this.tasks=e:this.tasks=null,this.openPage(this.page),[2]})})},t}(o.q),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderHistory=function(e,t){var n=e.task,i=e.date,a=e.status;e.principal,e.result;return r.createElement("div",{className:"d-block p-3"},r.createElement(o.h,{className:"small",left:r.createElement("small",{className:"text-muted"},r.createElement(o.c,{date:i})),right:r.createElement("small",null,Object(o.w)(a,function(e){return e.name}))}),r.createElement(o.h,{left:r.createElement("small",null,Object(o.w)(n,function(e){return Object(o.w)(e.biz,function(e){return e.description})})),right:r.createElement("small",null,Object(o.w)(n,function(e){return Object(o.w)(e.type,function(e){return e.description})}))}))},t.onSalesTaskClick=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){return this.controller.showTaskDetailEdit(e.task.obj),[2]})})},t.page=Object(l.a)(function(){var e=r.createElement("div",{className:"m-3 text-muted small"},"\u3010\u65e0\u8bb0\u5f55\u3011");return r.createElement(o.k,{header:"\u4ea4\u6d41\u8bb0\u5f55",headerClassName:W.headerClass},r.createElement(o.i,{before:"",none:e,items:t.tasks,item:{render:t.renderHistory,onClick:t.onSalesTaskClick}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return e.length>0?this.tasks=e:this.tasks=null,this.openPage(this.page),[2]})})},t}(o.q),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItem=function(e,n){var i=e.biz,a=e.type,c=r.createElement("div",{className:"text-info mr-3"},Object(o.w)(a,function(e){return t.controller.cSalesTask.getTaskIcon(i.obj.name)}));return r.createElement(o.h,{className:"px-3 py-2",left:c},r.createElement("div",{className:"font-weight-bold"},Object(o.w)(i,function(e){return e.description})))},t.onClickTaskBiz=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.selectTaskBiz(e)];case 1:return t.sent(),[2]}})})},t.page=function(){var e=t.controller,n=e.taskType,i=e.taskBizs,a=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u6b63\u5728\u7b79\u5907\u4e2d");return r.createElement(o.k,{header:n.description||n.name,headerClassName:"bg-primary"},r.createElement(o.i,{none:a,items:i,item:{render:t.renderItem,onClick:t.onClickTaskBiz}}))},t}return a.d(t,e),t.prototype.open=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t}(o.q),ne=function(e){function t(t,n){var r=e.call(this,n)||this;r.selectTaskBiz=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.task.biz=e.biz.obj,this.cSalesTask.cApp.cCustomer.showSelectCustomer(this.task),[2]})})},r.returnTaskBiz=function(e){return a.b(r,void 0,Promise,function(){return a.e(this,function(t){return this.returnCall(e),[2]})})},r.aiClick=function(){r.openVPage(L)},r.cSalesTask=t;var i=r.cSalesTask.cApp.cUqSalesTask;return r.mapTaskBiz=i.map("taskbiz"),r}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return this.task=e,this.taskType=e.type,[4,this.getBizFromTaskTypeId(this.taskType)];case 1:return t.sent(),this.openVPage(te),[2]}})})},t.prototype.getBizFromTaskTypeId=function(e){return a.b(this,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.mapTaskBiz.query({type:e})];case 1:return t=n.sent(),this.taskBizs=t.ret,[2]}})})},t}(o.b),re="http://www.jkchemical.com/static/Structure/",ie="http://www.jkchemical.com/static/Structure/999.png";function ae(e){var t=e.style,n=e.className,i=e.chemicalId;return r.createElement(o.g,{src:i&&re+i.substr(0,3)+"/"+i+".png",style:t,className:n,altImage:ie})}var oe=[{name:"note",type:"string",required:!1}],ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{note:{widget:"textarea",label:"\u5907\u6ce8",placeholder:""},submit:{widget:"button",label:"\u63d0\u4ea4"}}},t.page=Object(l.a)(function(e){return t.render(e)}),t.onCreateTaskProduct=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.createproduct.note=n.data.note,[4,this.controller.createTaskProduct(this.createproduct)];case 1:return e.sent(),this.closePage(2),[2]}})})},t.renderBrand=function(e){return t.productPropItem("\u54c1\u724c",e.name)},t.productPropItem=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))},t.productItem=function(e){var n=e.product,i=n.brand,a=n.description,c=n.descriptionC,s=n.CAS,u=n.purity,l=n.molecularFomula,m=n.molecularWeight,d=n.origin,h=n.imageUrl;return r.createElement("div",{className:"d-block mb-4 px-2"},r.createElement("div",{className:"py-2"},r.createElement("div",null,r.createElement("strong",null,a)),r.createElement("div",null,c)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(ae,{chemicalId:h,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},t.productPropItem("CAS",s),t.productPropItem("\u7eaf\u5ea6",u),t.productPropItem("\u5206\u5b50\u5f0f",l),t.productPropItem("\u5206\u5b50\u91cf",m),t.productPropItem("\u4ea7\u54c1\u7f16\u53f7",d),Object(o.w)(i,t.renderBrand)))))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.createproduct=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){var t=this;return r.createElement(o.k,{header:"\u6dfb\u52a0\u4ea7\u54c1",footer:null,headerClassName:"bg-primary"},r.createElement("div",{className:"mx-3"},this.productItem(e),r.createElement(o.f,{ref:function(e){return t.form=e},schema:oe,uiSchema:this.uiSchema,onButtonClick:this.onFormButtonClick,requiredFlag:!1}),r.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:this.onCreateTaskProduct},"\u6dfb\u52a0")))},t}(o.q),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(){return t.render()}),t.renderBrand=function(e){return t.productPropItem("\u54c1\u724c",e.name)},t.productPropItem=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))},t.renderItem=function(e,n){return Object(o.w)(e.product,function(e){var n=e.brand,i=e.description,a=e.descriptionC,c=e.CAS,s=e.purity,u=e.molecularFomula,l=e.molecularWeight,m=e.origin,d=e.imageUrl;return r.createElement("div",{className:"d-block mb-4 px-2"},r.createElement("div",{className:"py-2"},r.createElement("div",null,r.createElement("strong",null,i)),r.createElement("div",null,a)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(ae,{chemicalId:d,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},t.productPropItem("CAS",c),t.productPropItem("\u7eaf\u5ea6",s),t.productPropItem("\u5206\u5b50\u5f0f",u),t.productPropItem("\u5206\u5b50\u91cf",l),t.productPropItem("\u4ea7\u54c1\u7f16\u53f7",m),Object(o.w)(n,t.renderBrand)))))})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.products=e,this.openPage(this.page),[2]})})},t.prototype.render=function(){var e=r.createElement("div",{className:"my-3 mx-2 text-muted"},"\u65e0\u4ea7\u54c1");return r.createElement(o.k,{header:"\u4ea7\u54c1\u8be6\u60c5",headerClassName:"bg-primary"},r.createElement("div",null,r.createElement(o.i,{before:"",none:e,items:this.products,item:{render:this.renderItem}})))},t}(o.q),ue=[{name:"note",type:"string",required:!1}],le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{note:{widget:"textarea",label:"\u5907\u6ce8",placeholder:""},submit:{widget:"button",label:"\u63d0\u4ea4"}}},t.page=Object(l.a)(function(e){return t.render(e)}),t.onCreateTaskProject=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.createTaskProject(this.task,n.data.note)];case 1:return e.sent(),this.closePage(),[2]}})})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.task=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){var t=this;return r.createElement(o.k,{header:"\u6dfb\u52a0\u9879\u76ee",footer:null,headerClassName:"bg-primary"},r.createElement("div",{className:"mx-3"},r.createElement(o.f,{ref:function(e){return t.form=e},schema:ue,uiSchema:this.uiSchema,onButtonClick:this.onFormButtonClick,requiredFlag:!1}),r.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:this.onCreateTaskProject},"\u6dfb\u52a0")))},t}(o.q),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(){return t.render()}),t.renderItem=function(e,t){return Object(o.w)(e.project,function(e){var t=e.name;return r.createElement("div",{className:"px-3"},t)})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.projects=e,this.openPage(this.page),[2]})})},t.prototype.render=function(){var e=r.createElement("div",{className:"my-3 mx-2 text-muted"},"\u65e0\u9879\u76ee");return r.createElement(o.k,{header:"\u9879\u76ee\u8be6\u60c5",headerClassName:"bg-primary py-1"},r.createElement(o.i,{before:"",none:e,items:this.projects,item:{render:this.renderItem}}))},t}(o.q),de=n(35),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBrand=function(e){return t.productPropItem("\u54c1\u724c",e.name)},t.productPropItem=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))},t.renderProduct=function(e,n){var i=e.brand,a=e.description,c=e.descriptionC,s=e.CAS,u=e.purity,l=e.molecularFomula,m=e.molecularWeight,d=e.origin,h=e.imageUrl;return r.createElement("div",{className:"d-block mb-4 px-2"},r.createElement("div",{className:"py-2"},r.createElement("div",null,r.createElement("strong",null,a)),r.createElement("div",null,c)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(ae,{chemicalId:h,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},t.productPropItem("CAS",s),t.productPropItem("\u7eaf\u5ea6",u),t.productPropItem("\u5206\u5b50\u5f0f",l),t.productPropItem("\u5206\u5b50\u91cf",m),t.productPropItem("\u4ea7\u54c1\u7f16\u53f7",d),Object(o.w)(i,t.renderBrand)))))},t.onScrollBottom=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.pageProduct.more()];case 1:return e.sent(),[2]}})})},t.onSelectItem=function(e){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(n){return t=this.controller.cApp.cSalesTask.showPorductSelectDetail,this.createproduct.product=e,t(this.createproduct),[2]})})},t.page=Object(l.a)(function(e){var n=t.controller,i=n.pageProduct,a=(n.returnProduct,r.createElement("div",{className:"cursor-pointer "},r.createElement(o.e,{name:"plus"})),r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u672a\u641c\u7d22\u5230\u4ea7\u54c1"));return r.createElement(o.k,{header:"\u6dfb\u52a0\u4ea7\u54c1",onScrollBottom:t.onScrollBottom,headerClassName:"bg-primary py-1"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2 ",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u54c1\u540d\u3001\u7f16\u53f7\u3001CAS\u3001MDL\u7b49"}),r.createElement(o.i,{before:"",none:a,items:i,item:{render:t.renderProduct,onClick:t.onSelectItem}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.createproduct=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t}(o.q),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBrand=function(e){return t.productPropItem("\u54c1\u724c",e.name)},t.productPropItem=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))},t.renderProduct=function(e,n){var i=t.controller.showProductDetail,c=e.brand,s=e.description,u=e.descriptionC,l=e.CAS,m=e.purity,d=e.molecularFomula,h=e.molecularWeight,p=e.origin,f=e.imageUrl;return r.createElement("div",{className:"d-block mb-4 px-2",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,i(e)];case 1:return[2,t.sent()]}})})}},r.createElement("div",{className:"py-2"},r.createElement("div",null,r.createElement("strong",null,s)),r.createElement("div",null,u)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(ae,{chemicalId:f,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},t.productPropItem("CAS",l),t.productPropItem("\u7eaf\u5ea6",m),t.productPropItem("\u5206\u5b50\u5f0f",d),t.productPropItem("\u5206\u5b50\u91cf",h),t.productPropItem("\u4ea7\u54c1\u7f16\u53f7",p),Object(o.w)(c,t.renderBrand)))))},t.onScrollBottom=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.pageProduct.more()];case 1:return e.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller.pageProduct,i=(r.createElement("div",{className:"cursor-pointer "},r.createElement(o.e,{name:"plus"})),r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u672a\u641c\u7d22\u5230\u4ea7\u54c1"));return r.createElement(o.k,{header:"\u4ea7\u54c1",onScrollBottom:t.onScrollBottom,headerClassName:"bg-primary py-1 px-3"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2 ",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u54c1\u540d\u3001\u7f16\u53f7\u3001CAS\u3001MDL\u7b49"}),r.createElement(o.i,{before:"",none:i,items:n,item:{render:t.renderProduct,onClick:null}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t}(o.q),fe=[{name:"pack",type:"object"},{name:"retail",type:"number"},{name:"vipPrice",type:"number"},{name:"agentPrice",type:"number"},{name:"promotionPrice",type:"number"},{name:"currency",type:"string"}],ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderProduct=function(e){var n=e.brand,i=e.description,a=e.descriptionC,o=e.CAS,c=e.purity,s=e.molecularFomula,u=e.molecularWeight,l=e.origin,m=e.imageUrl;return r.createElement("div",{className:"mb-3 px-2"},r.createElement("div",{className:"py-2"},r.createElement("strong",null,i)),r.createElement("div",null,a),r.createElement("div",{className:"row mt-3"},r.createElement("div",{className:"col-sm-3"},r.createElement(ae,{chemicalId:m,className:"w-100"})),r.createElement("div",{className:"col-sm-9"},r.createElement("div",{className:"row"},t.item("CAS",o),t.item("\u7eaf\u5ea6",c),t.item("\u5206\u5b50\u5f0f",s),t.item("\u5206\u5b50\u91cf",u),t.item("\u4ea7\u54c1\u7f16\u53f7",l),Ne(n)))))},t.item=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4"},t))},t.arrTemplet=function(e){var t=e.pack,n=e.retail,i=e.promotionPrice,a=e.agentPrice,c=e.inventoryAllocation,s=e.futureDeliveryTimeDescription,u=null;if(n){var l=i,m=void 0;l?m=r.createElement("small",{className:"text-muted"},r.createElement("del",null,"\uffe5",n)):l=n,u=r.createElement("div",{className:"text-right row"},r.createElement("div",null,r.createElement("small",{className:"text-muted"},m),"\xa0 \xa0",r.createElement("span",{className:"text-danger"},"\uffe5 ",r.createElement("span",{className:"h5"},l)," "),a&&r.createElement("span",{className:"text-danger"},r.createElement("span",{className:"small"},r.createElement("span",{className:"small "},"\uffe5 ",r.createElement("span",null,a,r.createElement("span",{className:"small text-muted"},"  \xa0\u4ee3\u7406")))))))}else u=r.createElement("small",null,"\u8bf7\u8be2\u4ef7");var d=r.createElement(r.Fragment,null);return d=c&&c.length>0?c.map(function(e,t){var n=e.warehouse,i=e.quantity,a=e.deliveryTimeDescription;return r.createElement("div",{key:t,className:"text-success"},Object(o.w)(n,function(e){return r.createElement(r.Fragment,null,e.name)}),": ",i,a)}):r.createElement("div",null,s&&"\u671f\u8d27: "+s),r.createElement("div",{className:"px-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-5"},r.createElement("div",null,r.createElement("b",null,Object(o.w)(t,function(e){return r.createElement("div",null,e.radioy,e.unit)}))),r.createElement("div",null,d)),r.createElement("div",{className:"col-7"},u)))},t.uiSchema={Templet:t.arrTemplet},t.renderPack=function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:"sep-product-select"}),r.createElement(o.f,{className:"my-3",schema:fe,uiSchema:t.uiSchema,formData:e}))},t.page=Object(l.a)(function(e){var n=new de.ViewMainSubs(t.renderProduct,t.renderPack);return n.model=e,r.createElement(o.k,{header:"\u4ea7\u54c1\u660e\u7ec6",headerClassName:W.headerClass},r.createElement("div",{className:"px-2 py-2 bg-white mb-3"},n.render()))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.product=e.main,this.openPage(this.page,e),[2]})})},t}(o.q),be=function(){function e(e){this.entities=[],this.schemaLoaded=!1,this.cApp=e,this.initEntities()}return e.prototype.loadSchemas=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return!0===this.schemaLoaded?[2]:[4,Promise.all(this.entities)];case 1:return e.sent(),this.schemaLoaded=!0,[2]}})})},e.prototype.load=function(e){return a.b(this,void 0,Promise,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.loadSchemas()];case 1:return n.sent(),t=this.initData(),[4,this.loadToData(e,t)];case 2:return n.sent(),[2,t]}})})},e}(),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.initEntities=function(){var e=this.cApp.cUqProduct;this.brandTuid=e.tuid("brand")},t.prototype.loadToData=function(e,t){return a.b(this,void 0,Promise,function(){var n;return a.e(this,function(r){switch(r.label){case 0:return[4,this.brandTuid.load(e)];case 1:return n=r.sent(),t.id=n.id,t.name=n.name,[2]}})})},t.prototype.initData=function(){return{}},t}(be),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.initEntities=function(){var e=this.cApp.cUqProduct;this.productTuid=e.tuid("productx"),this.packTuid=this.productTuid.div.packx,this.productChemicalMap=e.map("productChemical")},t.prototype.loadToData=function(e,t){return a.b(this,void 0,Promise,function(){var n,r,i,o,c,s,u,l,m;return a.e(this,function(a){switch(a.label){case 0:return[4,this.productTuid.load(e)];case 1:return n=a.sent(),Y.a.merge(t,n),r=new ge(this.cApp),i=t,[4,r.load(t.brand.id)];case 2:return i.brand=a.sent(),[4,this.productChemicalMap.obj({product:e})];case 3:return(o=a.sent())&&(c=o.chemical,s=o.purity,u=o.CAS,l=o.molecularFomula,m=o.molecularWeight,t.chemical=c,t.purity=s,t.CAS=u,t.molecularFomula=l,t.molecularWeight=m),t.packs=[],n.packx.forEach(function(e){t.packs.push(e)}),[2]}})})},t.prototype.initData=function(){return{}},t}(be),Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getagentPrices=function(e,n){return a.b(t,void 0,void 0,function(){var t,r,i;return a.e(this,function(a){for(t=0;t<e.length;t++)if(r=e[t],r.pack,i=r.agentprice,n)return[2,i];return[2]})})},t.getFutureDeliveryTimeDescription=function(e,n){return a.b(t,void 0,void 0,function(){var t,r,i,o,c;return a.e(this,function(a){switch(a.label){case 0:return[4,this.getFutureDeliveryTime.table({product:e,salesRegion:n})];case 1:return(t=a.sent()).length>0?(r=t[0],i=r.minValue,o=r.maxValue,c=r.unit,r.deliveryTimeDescription,[2,i+(o>i?"~"+o:"")+" "+c]):[2]}})})},t}return a.d(t,e),t.prototype.initEntities=function(){var e=this.cApp,t=e.cUqProduct,n=e.cUqWarehouse,r=e.cUqPromotion;this.priceMap=t.map("pricex"),this.agentPriceMap=t.map("AgentPrice"),this.getInventoryAllocationQuery=n.query("getInventoryAllocation"),this.getFutureDeliveryTime=t.query("getFutureDeliveryTime"),this.getPromotionPackQuery=r.query("getPromotionPack")},t.prototype.initData=function(){return{main:{},subs:[]}},t.prototype.loadToData=function(e,t){return a.b(this,void 0,Promise,function(){var n,r,i,o,c,s,u,l,m,d,h,p,f,v,b,g,y=this;return a.e(this,function(a){switch(a.label){case 0:return n=new ye(this.cApp),r=t,[4,n.load(e)];case 1:return r.main=a.sent(),i=this.cApp,o=i.currentSalesRegion,c=i.currentLanguage,s=o.id,[4,this.priceMap.table({product:e,salesRegion:s})];case 2:return u=a.sent(),[4,this.agentPriceMap.table({product:e,salesRegion:s})];case 3:return l=a.sent(),t.subs=u,m=[],t.subs.forEach(function(t){m.push(y.getInventoryAllocationQuery.table({product:e,pack:t.pack,salesRegion:o})),m.push(y.getPromotionPackQuery.obj({product:e,pack:t.pack,salesRegion:o,language:c}))}),[4,Promise.all(m)];case 4:return d=a.sent(),[4,this.getFutureDeliveryTimeDescription(e,s)];case 5:for(h=a.sent(),p=0;p<t.subs.length;p++)for(t.subs[p].futureDeliveryTimeDescription=h,t.subs[p].inventoryAllocation=d[2*p],this.getagentPrices(l,t.subs[p].pack.id),f=d[2*p+1],(v=f&&f.discount)&&(t.subs[p].promotionPrice=Math.round((1-v)*t.subs[p].retail)),b=0;b<l.length;b++)g=l[b].pack.id,t.subs[p].pack.id==g&&(t.subs[p].agentPrice=l[b].agentPrice);return[2]}})})},t}(be),we=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBrand=function(e){return t.productPropItem("\u54c1\u724c",e.name)},t.productPropItem=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))},t.renderProduct=function(e,n){var i=e.brand,a=e.description,c=e.descriptionC,s=e.CAS,u=e.purity,l=e.molecularFomula,m=e.molecularWeight,d=e.origin,h=e.imageUrl;return r.createElement("div",{className:"d-block mb-4 px-2"},r.createElement("div",{className:"py-2"},r.createElement("div",null,r.createElement("strong",null,a)),r.createElement("div",null,c)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(ae,{chemicalId:h,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},t.productPropItem("CAS",s),t.productPropItem("\u7eaf\u5ea6",u),t.productPropItem("\u5206\u5b50\u5f0f",l),t.productPropItem("\u5206\u5b50\u91cf",m),t.productPropItem("\u4ea7\u54c1\u7f16\u53f7",d),Object(o.w)(i,t.renderBrand)))))},t.onScrollBottom=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.pageProduct.more()];case 1:return e.sent(),[2]}})})},t.onSelectItem=function(e){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(n){return t=this.controller.cApp.cSalesTask.showPorductPackSelectDetail,this.createproduct.product=e,t(this.createproduct),[2]})})},t.page=Object(l.a)(function(e){var n=t.controller,i=n.pageProduct,a=(n.returnProduct,r.createElement("div",{className:"cursor-pointer "},r.createElement(o.e,{name:"plus"})),r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u672a\u641c\u7d22\u5230\u4ea7\u54c1"));return r.createElement(o.k,{header:"\u9009\u62e9\u5305\u88c5",onScrollBottom:t.onScrollBottom,headerClassName:"bg-primary py-1"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2 ",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u54c1\u540d\u3001\u7f16\u53f7\u3001CAS\u3001MDL\u7b49"}),r.createElement(o.i,{before:"",none:a,items:i,item:{render:t.renderProduct,onClick:t.onSelectItem}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.createproduct=e,this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t}(o.q),ke=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchProductQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchProductQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.seq},t}(o.l),Ce=function(e){function t(t,n){var i=e.call(this,n)||this;i.searchByKey=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return this.pageProduct=new ke(this.querySearchProduct),[4,this.pageProduct.first({keyWord:e,salesRegion:1})];case 1:return t.sent(),[2]}})})},i.returnProduct=function(e){return a.b(i,void 0,Promise,function(){return a.e(this,function(t){return this.returnCall(e),[2]})})},i.showProductDetail=function(e){return a.b(i,void 0,Promise,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,new Ee(this.cApp).load(e.id)];case 1:return t=n.sent(),this.openVPage(ve,t),[2]}})})},i.showProductSelect=function(e){return a.b(i,void 0,Promise,function(){return a.e(this,function(t){return this.openVPage(he,e),[2]})})},i.showProductPackSelect=function(e){return a.b(i,void 0,Promise,function(){return a.e(this,function(t){return this.openVPage(we,e),[2]})})},i.render=Object(l.a)(function(){return i.pageProduct=null,i.renderView(pe)}),i.tab=function(){return r.createElement(i.render,null)},i.cApp=t;var o=i.cApp.cUqProduct;return i.productTuid=o.tuid("productx"),i.querySearchProduct=o.query("searchProduct"),i}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){var t;return a.e(this,function(n){return t=this.cApp,t.currentSalesRegion,t.currentLanguage,this.pageProduct=null,this.openVPage(he,e),[2]})})},a.c([d.l],t.prototype,"pageProduct",void 0),a.c([d.l],t.prototype,"customerlist",void 0),t}(o.b);function Ne(e){return Pe("\u54c1\u724c",e.name)}function Pe(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))}var Se=[{name:"pack",type:"object"},{name:"retail",type:"number"},{name:"vipPrice",type:"number"},{name:"promotionPrice",type:"number"},{name:"currency",type:"string"}],xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pack=[],t.renderProduct=function(e){var n=e.brand,i=e.description,a=e.descriptionC,o=e.CAS,c=e.purity,s=e.molecularFomula,u=e.molecularWeight,l=e.origin,m=e.imageUrl;return r.createElement("div",{className:"mb-3 px-2"},r.createElement("div",{className:"py-2"},r.createElement("strong",null,i)),r.createElement("div",null,a),r.createElement("div",{className:"row mt-3"},r.createElement("div",{className:"col-sm-3"},r.createElement(ae,{chemicalId:m,className:"w-100"})),r.createElement("div",{className:"col-sm-9"},r.createElement("div",{className:"row"},t.item("CAS",o),t.item("\u7eaf\u5ea6",c),t.item("\u5206\u5b50\u5f0f",s),t.item("\u5206\u5b50\u91cf",u),t.item("\u4ea7\u54c1\u7f16\u53f7",l),Ne(n)))))},t.item=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4"},t))},t.arrTemplet=function(e){var n=e.pack,i=e.retail,a=e.promotionPrice,c=e.inventoryAllocation,s=e.futureDeliveryTimeDescription,u=null;if(i){var l=a,m=void 0;l?m=r.createElement("small",{className:"text-muted"},r.createElement("del",null,"\uffe5",i)):l=i,u=r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-6 pb-2 d-flex justify-content-end align-items-center"},r.createElement("small",{className:"text-muted"},m),"\xa0 \xa0",r.createElement("span",{className:"text-danger"},"\uffe5 ",r.createElement("span",{className:"h5"},l))))}else u=r.createElement("small",null,"\u8bf7\u8be2\u4ef7");var d=r.createElement(r.Fragment,null);return d=c&&c.length>0?c.map(function(e,t){var n=e.warehouse,i=e.quantity,a=e.deliveryTimeDescription;return r.createElement("div",{key:t,className:"text-success"},Object(o.w)(n,function(e){return r.createElement(r.Fragment,null,e.name)}),": ",i,a)}):r.createElement("div",null,s&&"\u671f\u8d27: "+s),r.createElement("div",{className:"px-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-6"},r.createElement("div",null,r.createElement("input",{type:"checkbox",name:"productpack",onChange:t.onChangePack,value:n.id}),r.createElement("b",null,Object(o.w)(n,function(e){return r.createElement("div",null,e.radioy,e.unit)}))),r.createElement("div",null,d)),r.createElement("div",{className:"col-6"},u)))},t.onChangePack=function(e){var n=e.currentTarget,r=n.value;n.checked?t.addArr(r):t.removeArr(r)},t.uiSchema={Templet:t.arrTemplet},t.renderPack=function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:"sep-product-select"}),r.createElement(o.f,{className:"my-3",schema:Se,uiSchema:t.uiSchema,formData:e}))},t.onCreateTaskProductPack=function(e){return a.b(t,void 0,void 0,function(){var e,t,n;return a.e(this,function(r){switch(r.label){case 0:return e=this.controller,t=e.createTaskProjectPack,(n=e.createproduct).pack=this.pack,[4,t(n)];case 1:return r.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=new de.ViewMainSubs(t.renderProduct,t.renderPack);return n.model=e,r.createElement(o.k,{header:"\u6dfb\u52a0\u4ea7\u54c1\u5305\u88c5",headerClassName:W.headerClass},r.createElement("div",{className:"px-2 py-2 bg-white mb-3"},n.render()),r.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:t.onCreateTaskProductPack},"\u6dfb\u52a0"))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.product=e.main,this.openPage(this.page,e),[2]})})},t.prototype.removeArr=function(e){for(var t=0;t<this.pack.length;t++)this.pack[t]==e&&(this.pack.splice(t,1),t--)},t.prototype.addArr=function(e){this.pack.push(e)},t}(o.q),Te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(){return t.render()}),t.renderBrand=function(e){return t.productPropItem("\u54c1\u724c",e.name)},t.productPropItem=function(e,t){return null===t||void 0===t?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),r.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))},t.renderItem=function(e,n){return Object(o.w)(e.product,function(n){var i=n.brand,a=n.description,c=n.descriptionC,s=n.CAS,u=n.purity,l=n.molecularFomula,m=n.molecularWeight,d=n.origin,h=n.imageUrl;return r.createElement("div",{className:"d-block mb-4 px-2"},r.createElement("div",{className:"py-2"},r.createElement("div",null,r.createElement("strong",null,a)),r.createElement("div",null,c)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-3"},r.createElement(ae,{chemicalId:h,className:"w-100"})),r.createElement("div",{className:"col-9"},r.createElement("div",{className:"row"},t.productPropItem("CAS",s),t.productPropItem("\u7eaf\u5ea6",u),t.productPropItem("\u5206\u5b50\u5f0f",l),t.productPropItem("\u5206\u5b50\u91cf",m),t.productPropItem("\u4ea7\u54c1\u7f16\u53f7",d),Object(o.w)(i,t.renderBrand)))),r.createElement("div",null,Object(o.w)(e.pack,function(e){return r.createElement("div",null,e.radioy,e.unit)})))})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.products=e,this.openPage(this.page),[2]})})},t.prototype.render=function(){var e=r.createElement("div",{className:"my-3 mx-2 text-muted"},"\u65e0\u4ea7\u54c1\u5305\u88c5");return r.createElement(o.k,{header:"\u4ea7\u54c1\u5305\u88c5\u8be6\u60c5",headerClassName:"bg-primary"},r.createElement("div",null,r.createElement(o.i,{before:"",none:e,items:this.products,item:{render:this.renderItem}})))},t}(o.q),qe=(function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchsalestskQuery=t,n}a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchsalestskQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id}}(o.l),function(e){function t(t,n){var i=e.call(this,n)||this;i.taskTypes={},i.searchTaskByKey=function(e){return a.b(i,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return[4,this.qeurySearchTask.table({})];case 1:return e=t.sent(),this.tasks=new $(e),[2]}})})},i.loadTask=function(e){return a.b(i,void 0,void 0,function(){var t,n;return a.e(this,function(r){switch(r.label){case 0:return[4,this.taskTuid.load(e)];case 1:return t=r.sent(),n=t,[4,this.searchTaskCompletion(e)];case 2:return n.fields=r.sent(),[2,t]}})})},i.searchTaskCompletion=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.qeurySearchTaskCompletion.table({taskid:e})];case 1:return[2,t.sent()]}})})},i.showTaskHistory=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.qeurySearchHistory.table({taskid:e})];case 1:return t=n.sent(),this.openVPage(v,{tasks:t}),[2]}})})},i.showEmployeeHistory=function(){return a.b(i,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return[4,this.qeurySearchEmployeeHistory.table({})];case 1:return e=t.sent(),this.openVPage(_,{tasks:e}),[2]}})})},i.showCustomerHistory=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.qeurySearchCustomerHistory.table({customerid:e})];case 1:return t=n.sent(),this.openVPage(ee,t),[2]}})})},i.showTaskDetailEdit=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){return e.biz.obj?e.biz.obj.name:e.biz.name,void 0!==(t=this.getCTaskType(e.biz.obj.name))&&t.showDetailEdit(e),[2]})})},i.showDetailFromId=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.getCTaskType(e.biz.obj.name).showDetailFromId(e.id),[2]})})},i.showTaskComplet=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){return t=e.biz.obj?e.biz.obj.name:e.biz.name,this.getCTaskType(t).showComplet(e),[2]})})},i.createAndFinishTask=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.createTasks(e)];case 1:return t=n.sent(),[4,this.showTaskComplet(t)];case 2:return n.sent(),[2]}})})},i.showTaskExtension=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage(f,e),[2]})})},i.showTaskInvalid=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage(Z,e),[2]})})},i.onInvalidTask=function(e,t,n){return a.b(i,void 0,void 0,function(){var n;return a.e(this,function(r){switch(r.label){case 0:return n={taskid:e.id,resulttype:"Inval",result:t},[4,this.actionCompletionTask.submit(n)];case 1:return r.sent(),this.tasks.remove(e),[2]}})})},i.showPorductSelect=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){return t=this.cApp.cProduct,this.createproduct={task:e,product:void 0,pack:void 0,note:void 0},t.showProductSelect(this.createproduct),[2]})})},i.showPorductSelectDetail=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.createproduct=e,this.openVPage(ce,this.createproduct),[2]})})},i.createTaskProduct=function(e){return a.b(i,void 0,void 0,function(){var t,n,r,i,o;return a.e(this,function(a){return this.createproduct=e,t=this.createproduct,n=t.product,r=t.task,i=(i=t.note)||void 0,o={taskid:r.id,productid:n.id,note:i},this.createTaskProductAction.submit(o),[2]})})},i.showTaskProductDetail=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.qeurySearchTaskProduct.table({taskid:e.id})];case 1:return t=n.sent(),[4,this.openVPage(se,t)];case 2:return n.sent(),[2]}})})},i.showPorductPackSelect=function(e){return a.b(i,void 0,void 0,function(){var t,n;return a.e(this,function(r){return t=this.cApp.cProduct,n={task:e,product:void 0,pack:void 0,note:void 0},t.showProductPackSelect(n),[2]})})},i.showPorductPackSelectDetail=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return this.createproduct=e,[4,new Ee(this.cApp).load(e.product.id)];case 1:return t=n.sent(),this.openVPage(xe,t),[2]}})})},i.createTaskProjectPack=function(e){return a.b(i,void 0,void 0,function(){var t,n,r,i,o,c,s,u,l=this;return a.e(this,function(a){switch(a.label){case 0:return this.createproduct=e,t=this.createproduct,n=t.task,r=t.product,i=t.note,o=t.pack,c=r.id,s=n.id,u=[],o.forEach(function(e){u.push(l.createTaskProductPackAction.submit({task:s,product:c,pack:e,note:i}))}),[4,Promise.all(u)];case 1:return a.sent(),this.closePage(2),[2]}})})},i.showTaskProjectPackDetail=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.qeurySearchTaskProductPack.table({taskid:e.id})];case 1:return t=n.sent(),this.openVPage(Te,t),[2]}})})},i.showCreateProject=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage(le,e),[2]})})},i.createTaskProject=function(e,t){return a.b(i,void 0,void 0,function(){var n;return a.e(this,function(r){switch(r.label){case 0:return n={taskid:e.id,note:t},[4,this.createTaskProjectAction.submit(n)];case 1:return r.sent(),[2]}})})},i.showTaskProjectDetail=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.qeurySearchTaskProject.table({taskid:e.id})];case 1:return t=n.sent(),this.openVPage(me,t),[2]}})})},i.showSelectTaskType=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.cSelectType.start()];case 1:return e.sent(),[2]}})})},i.showCrateCheck=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage(P,e),[2]})})},i.createTask=function(e,t){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.createTasks(t)];case 1:return e.sent(),[4,this.searchTaskByKey("")];case 2:return e.sent(),[2]}})})},i.createTasks=function(e){return a.b(i,void 0,void 0,function(){var t,n,r,i,o,c,s,u,l,m,d;return a.e(this,function(a){switch(a.label){case 0:return t=e.customer,n=e.type,r=e.biz,i=e.description,o=e.priorty,c=e.deadline,s=t.id,u=n.id,l=r.id,m={id:void 0,description:i=i||void 0,customer:s,type:u,biz:l,sourceID:"",sourceType:"",sourceNo:"",priorty:o=o?1:0,deadline:c=c||void 0},[4,this.addTaskAction.submit(m)];case 1:return d=a.sent(),e.id=d.id,[2,e]}})})},i.showCustomerDetail=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.cApp.cCustomer.showCustomerDetail(e),[2]})})},i.render=Object(l.a)(function(){return i.isLogined?i.renderView(m):r.createElement("div",{className:"d-flex h-100 flex-column align-items-center justify-content-center"},r.createElement("div",{className:"flex-fill"}),r.createElement("button",{className:"btn btn-success w-20c",onClick:function(){return o.t.showLogin(i.loginCallback,!0)}},r.createElement(o.e,{name:"sign-out",size:"lg"})," \u8bf7\u767b\u5f55"),r.createElement("div",{className:"flex-fill"}),r.createElement("div",{className:"flex-fill"}))}),i.loginCallback=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return o.t.pop(),[4,this.internalStart(void 0)];case 1:return e.sent(),[2]}})})},i.tab=function(){return r.createElement(i.render,null)},i.cApp=t,i.cSelectType=new J(i,void 0),i.cSalesTaskBiz=new ne(i,void 0);var c=i.cApp,s=c.cUqSalesTask,u=c.cUqCustomer,d=c.cUqProduct;return i.taskTuid=s.tuid("task"),i.tuidCustomer=u.tuid("customer"),i.tuidTaskType=s.tuid("tasktype"),i.tuidProduct=d.tuid("productx"),i.taskBook=s.book("taskbook"),i.actionCompletionTask=s.action("CompletionTask"),i.actionCompletionCustomerInfoTask=s.action("CompletionCustomerInfoTask"),i.extensionTaskAction=s.action("ExtensionTask"),i.addTaskAction=s.action("AddTask"),i.createTaskProductAction=s.action("CreateTaskProduct"),i.createTaskProjectAction=s.action("CreateTaskProject"),i.createTaskProductPackAction=s.action("CreateTaskProductPack"),i.qeurySearchTask=s.query("searchtask"),i.qeurySearchHistory=s.query("searchhistorytask"),i.qeurySearchEmployeeHistory=s.query("searchhistorytaskbyemployee"),i.qeurySearchCustomerHistory=s.query("searchhistorytaskbycustomer"),i.qeurySearchTaskCompletion=s.query("searchtaskcompletion"),i.qeurySearchTaskProduct=s.query("SearchTaskProduct"),i.qeurySearchTaskProject=s.query("SearchTaskProject"),i.qeurySearchTaskProductPack=s.query("SearchTaskProductPack"),i.taskTypes=function(e){var t={};for(var n in F){var r,i=F[n];"function"===typeof i?((r=t[n]=new i(void 0)).cSalesTask=e,r.caption||(r.caption=n)):(r=t[n]=new x(i,void 0)).cSalesTask=e}return t}(i),i}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.searchTaskByKey(e)];case 1:return t.sent(),[2]}})})},t.prototype.getTaskIcon=function(e){var t=this.taskTypes[e];return void 0===t?"qualify"==e?r.createElement(o.e,{name:"address-book",size:"lg",fixWidth:!0}):"legend"==e?r.createElement(o.e,{name:"newspaper-o",size:"lg",fixWidth:!0}):r.createElement(o.e,{name:"shopping-bag",size:"lg",fixWidth:!0}):t.icon},t.prototype.getCTaskType=function(e){return this.taskTypes[e]},t.prototype.getCommonType=function(e){return this.getCTaskType(e)},t.prototype.finishTask=function(e){return a.b(this,void 0,void 0,function(){var t,n,r,i;return a.e(this,function(a){switch(a.label){case 0:return t=e.id,n=e.fields,r=e.type,i={taskid:t,resulttype:"compl",result:"\u5b8c\u7ed3",fields:n},"qualify"!=r.obj.name?[3,2]:[4,this.actionCompletionCustomerInfoTask.submit(i)];case 1:return a.sent(),[3,4];case 2:return[4,this.actionCompletionTask.submit(i)];case 3:a.sent(),a.label=4;case 4:return this.tasks.remove(e),this.closePage(2),[2]}})})},t.prototype.extensionTask=function(e,t,n,r){return a.b(this,void 0,void 0,function(){var n;return a.e(this,function(i){switch(i.label){case 0:return n={taskid:e.id,result:t,remindDate:r},[4,this.extensionTaskAction.submit(n)];case 1:return i.sent(),this.tasks.postPone(r,e),[2]}})})},a.c([d.l],t.prototype,"tasks",void 0),a.c([d.l],t.prototype,"createproduct",void 0),t}(o.b)),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickCustomer=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.selectCustomer(e)];case 1:return t.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller.pageCustomer,i=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u8bf7\u641c\u7d22\u5ba2\u6237\uff01");return r.createElement(o.k,{header:"\u9009\u62e9\u5ba2\u6237",headerClassName:"bg-primary"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u5ba2\u6237\u59d3\u540d\u3001\u5355\u4f4d"}),r.createElement(o.i,{before:"",none:i,items:n,item:{render:t.renderCustomer,onClick:t.onClickCustomer}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.renderCustomer=function(e,t){var n=e.name;return r.createElement(o.h,{className:"px-3 py-2 ",left:r.createElement(o.e,{name:"user",className:" my-2 mr-3 text-info"})},r.createElement("div",{className:"font-weight-bold"}),r.createElement("div",null,n))},t}(o.q),je=[{name:"name",type:"string"},{name:"telephone",type:"number"},{name:"email",type:"string"},{name:"wechat",type:"string"},{name:"teacher",type:"string"},{name:"potential",type:"string"},{name:"research",type:"string"},{name:"addressString",type:"string"}],Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},telephone:{widget:"text",label:"\u7535\u8bdd",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"},gender:{widget:"radio",label:"\u6f5c\u529b\u503c",defaultValue:1,list:[{value:0,title:"\u7537"},{value:1,title:"\u5973"}]},birthDay:{widget:"datetime",label:"\u751f\u65e5",placeholder:"\u8bf7\u8f93\u5165\u751f\u65e5"},email:{widget:"text",label:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},wechat:{widget:"text",label:"\u5fae\u4fe1",placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u53f7"},teacher:{widget:"text",label:"\u8001\u5e08",placeholder:"\u8bf7\u8f93\u5165\u8001\u5e08"},addressString:{widget:"text",label:"\u5730\u5740",placeholder:"\u8bf7\u8f93\u5730\u5740"},potential:{widget:"radio",label:"\u6f5c\u529b\u503c",defaultValue:1,list:[{value:0,title:"\u5c0f\u4e8e10\u4e07"},{value:1,title:"10\u4e07-30\u4e07"},{value:2,title:"\u5927\u4e8e30\u4e07"}]},research:{widget:"radio",label:"\u7814\u7a76\u65b9\u5411",defaultValue:1,list:[{value:0,title:"\u6709\u673a"},{value:1,title:"\u5316\u5b66"},{value:1,title:"\u5206\u6790"},{value:1,title:"\u6750\u6599"}]}}},t.onItemChanged=function(e,n,r){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(r){switch(r.label){case 0:return t=e.name,this.customer[t]=n,this.customer.createTime="2019-01-01",this.customer.birthDay="2019-01-01",[4,this.controller.updateMyCustomer(this.customer)];case 1:return r.sent(),o.t.saveLocalUser(),[2]}})})},t.page=Object(l.a)(function(){var e=t.controller.cApp,n=e.cSalesTask,i=e.cCustomerUnit,c=e.cCustomer,s=n.showCustomerHistory,u=t.customer,l=u.id,m=u.unit,d=i.showCustomerUnitDetail,h=c.showCustomerSelect,p=t.controller.innerCustomer,f=[{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,d(m)];case 1:return[2,e.sent()]}})})},left:r.createElement("div",null," ",r.createElement("small",null,r.createElement(o.e,{name:"university",className:"text-info"}))," \xa0",Object(o.w)(m,function(e){return e.name})),right:r.createElement("div",{className:"w-2c text-right"}," ",r.createElement("i",{className:"fa fa-chevron-right"}))})},{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,s(l)];case 1:return[2,e.sent()]}})})},left:r.createElement("div",null," ",r.createElement("small",null,r.createElement(o.e,{name:"hand-o-right",className:"text-info"}))," \xa0\u6c9f\u901a\u8bb0\u5f55"),right:r.createElement("div",{className:"w-2c text-right"}," ",r.createElement("i",{className:"fa fa-chevron-right"}))})},{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,h(l)];case 1:return[2,e.sent()]}})})},left:r.createElement("div",null," ",r.createElement("small",null,r.createElement(o.e,{name:"share-alt",className:"text-info"}))," \xa0\u5185\u90e8\u5ba2\u6237"),right:r.createElement("div",{className:"w-2c text-right"}," ",r.createElement("i",{className:"fa fa-chevron-right"}))},r.createElement("div",{className:"px-3"}," ",p&&Object(o.w)(p,function(e){return e.name})))}];return r.createElement(o.k,{header:"\u5ba2\u6237\u8be6\u60c5",headerClassName:W.headerClass},r.createElement(o.m,{className:"my-2",rows:f,values:t.customer,alignValue:"right"}),r.createElement(o.d,{schema:je,uiSchema:t.uiSchema,data:t.customer,onItemChanged:t.onItemChanged}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.customer=e,this.openPage(this.page),[2]})})},a.c([d.l],t.prototype,"customer",void 0),t}(o.q),Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickCustomer=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.showCustomerDetail(e.id)];case 1:return t.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller,i=n.pageCustomer,c=n.showSelectCustomerUnit,s=n.showCustomerSearch,u=r.createElement("div",{className:"cursor-pointer py-2"},r.createElement("span",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,s()];case 1:return[2,e.sent()]}})})}},r.createElement(o.e,{name:"search",className:"px-4"})),r.createElement("span",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,c()];case 1:return[2,e.sent()]}})})}},r.createElement(o.e,{name:"plus"}))),l=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u672a\u627e\u5230\u5ba2\u6237\uff01");return r.createElement(o.k,{header:"\u5ba2\u6237",onScrollBottom:t.onScrollBottom,headerClassName:"bg-primary py-1 px-3",right:u},r.createElement(o.i,{before:"",none:l,items:i,item:{render:t.renderCustomer,onClick:t.onClickCustomer}}))}),t.onScrollBottom=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.pageCustomer.more()];case 1:return e.sent(),[2]}})})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t.prototype.renderCustomer=function(e,t){var n=e.name,i=e.unit,a=r.createElement("div",null,r.createElement(o.e,{name:"user",className:" my-2 mr-3 text-info"})," ",r.createElement("span",{className:"font-weight-bold"},n)),c=r.createElement("div",{className:"text-muted  my-2 mr-3 "},r.createElement("small",null," ",Object(o.w)(i,function(e){return e.name})));return r.createElement(o.h,{className:"px-3 py-2 ",left:a,right:c})},t}(o.q),Be=[{name:"Name",type:"string",required:!0},{name:"Salutation",type:"string",required:!1},{name:"Gender",type:"number",required:!1},{name:"BirthDay",type:"date",required:!1},{name:"submit",type:"submit"}],De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{Name:{widget:"text",label:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},Salutation:{widget:"text",label:"\u79f0\u8c13",placeholder:"\u8bf7\u8f93\u5165\u79f0\u8c13"},Gender:{widget:"radio",label:"\u6027\u522b",placeholder:"\u6027\u522b",defaultValue:1,list:Object(o.v)(["1:\u7537","2:\u5973"]),radioClassName:"w-min-6c d-inline-block"},BirthDay:{widget:"date",label:"\u751f\u65e5",placeholder:""},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary w-8c"}}},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.createMyCustomer(n.data,this.customerunit)];case 1:return e.sent(),[2]}})})},t.itemss="cursor-pointer mx-3 my-2 w-100",t.page=Object(l.a)(function(){var e=[{type:"component",name:"unit",component:r.createElement(o.h,{className:t.itemss,left:r.createElement("div",null," ",r.createElement(o.e,{name:"university",className:"text-info mr-2 pt-1 "})," ")},t.customerunit.name)}];return r.createElement(o.k,{header:"\u65b0\u5efa\u5ba2\u6237",headerClassName:W.headerClass},r.createElement(o.m,{className:"my-2",rows:e,values:null}),r.createElement(o.f,{ref:function(e){return t.form=e},className:"my-3 mx-3",schema:Be,uiSchema:t.uiSchema,onButtonClick:t.onFormButtonClick,requiredFlag:!1}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.customerunit=e,this.openPage(this.page),[2]})})},t}(o.q),Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comeBack=function(){t.controller.searchByKey(""),t.closePage(3)},t.page=Object(l.a)(function(e){return r.createElement(o.k,{header:"\u65b0\u5efa\u5ba2\u6237",headerClassName:"bg-primary py-1 px-3"},r.createElement("div",{className:"w-100 text-center m-3 text-muted"},"\u5ba2\u6237\u6dfb\u52a0\u6210\u529f\uff0c\u8bf7\u5728\u5ba2\u6237\u641c\u7d22\u9875\u9762\u67e5\u770b\u8be6\u60c5\uff01"),r.createElement("div",{className:"w-100 text-center"},r.createElement("label",{className:"text-success",onClick:t.comeBack}," \u8fd4\u56de")))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t}(o.q),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickCustomer=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.returnCustomer(e)];case 1:return t.sent(),this.closePage(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller.pageCustomer,i=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u8bf7\u641c\u7d22\u5ba2\u6237\uff01");return r.createElement(o.k,{header:"\u9009\u62e9\u5ba2\u6237",headerClassName:"bg-primary"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u5ba2\u6237\u59d3\u540d\u3001\u5355\u4f4d"}),r.createElement(o.i,{before:"",none:i,items:n,item:{render:t.renderCustomer,onClick:t.onClickCustomer}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.renderCustomer=function(e,t){var n=e.name;return r.createElement(o.h,{className:"px-3 py-2 ",left:r.createElement(o.e,{name:"user",className:" my-2 mr-3 text-info"})},r.createElement("div",{className:"font-weight-bold"}),r.createElement("div",null,n))},t}(o.q),Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backLevel=0,t.page=function(e){return t.backLevel++,r.createElement(o.k,{header:"\u9009\u62e9\u6240\u5728\u7701\u5e02"},r.createElement("div",{className:"row no-gutters"},e.items.map(function(e){return t.renderPCC(e,t.onProvinceClick)})))},t.renderPCC=function(e,t){var n=e.id,i=e.chineseName;return r.createElement("div",{key:n,className:"col-6 col-md-4 col-lg-3 cursor-pointer"},r.createElement("div",{className:"pt-1 pb-1 px-2",onClick:function(){return t(e)},style:{border:"1px solid #eeeeee",marginRight:"-1px",marginBottom:"-1px"}},r.createElement("span",{className:"ml-1 align-middle"},r.createElement(o.e,{name:"chevron-right",className:"text-info small"}),"\xa0 ",i)))},t.onProvinceClick=function(e){return a.b(t,void 0,void 0,function(){var t,n,i=this;return a.e(this,function(a){switch(a.label){case 0:return this.provinceId=e.id,[4,this.controller.getProvinceCities(this.provinceId)];case 1:return(t=a.sent())?1!==(n=t.length)?[3,3]:[4,this.onCityClick(t[0])]:[3,4];case 2:return a.sent(),[2];case 3:return n>0?(this.backLevel++,this.openPageElement(r.createElement(o.k,{header:"\u9009\u62e9\u6240\u5728\u57ce\u5e02"},r.createElement("div",{className:"row no-gutters"},t.map(function(e){return i.renderPCC(e,i.onCityClick)})))),[2]):[3,5];case 4:this.closePage(1),this.saveAddress(),a.label=5;case 5:return[2]}})})},t.onCityClick=function(e){return a.b(t,void 0,void 0,function(){var t,n=this;return a.e(this,function(i){switch(i.label){case 0:return this.cityId=e.id,[4,this.controller.getCityCounties(this.cityId)];case 1:return(t=i.sent())&&t.length>0?(this.backLevel++,this.openPageElement(r.createElement(o.k,{header:"\u9009\u62e9\u6240\u5728\u533a\u53bf"},r.createElement("div",{className:"row no-gutters"},t.map(function(e){return n.renderPCC(e,n.onCountyClick)}))))):(this.closePage(2),this.saveAddress()),[2]}})})},t.onCountyClick=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){return this.countyId=e.id,this.closePage(this.backLevel),this.saveAddress(),[2]})})},t.saveAddress=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.saveAddress(43,this.provinceId,this.cityId,this.countyId)];case 1:return e.sent(),[2]}})})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.getCountryProvince(43)];case 1:return e=t.sent(),this.openPage(this.page,{items:e}),[2]}})})},t}(o.q),Fe=function(e){function t(t,n){var r=e.call(this,n)||this;r.getCountryProvince=function(e){return a.b(r,void 0,Promise,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.getCountryProvincesQuery.table({country:e})];case 1:return[2,t.sent()]}})})},r.getProvinceCities=function(e){return a.b(r,void 0,Promise,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.getProvinceCitiesQuery.table({province:e})];case 1:return[2,t.sent()]}})})},r.getCityCounties=function(e){return a.b(r,void 0,Promise,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.getCityCountiesQuery.table({city:e})];case 1:return[2,t.sent()]}})})},r.saveAddress=function(e,t,n,i){return a.b(r,void 0,Promise,function(){var r,o;return a.e(this,function(a){switch(a.label){case 0:return[4,this.addressTuid.save(void 0,{country:e,province:t,city:n,county:i})];case 1:return r=a.sent(),o=r&&this.addressTuid.boxId(r.id),this.returnCall(o),[2]}})})},r.cApp=t;var i=r.cApp.cUqCommon;return r.getCountryProvincesQuery=i.query("GetCountryProvinces"),r.getProvinceCitiesQuery=i.query("GetProvinceCities"),r.getCityCountiesQuery=i.query("GetCityCounties"),r.addressTuid=i.tuid("Address"),r}return a.d(t,e),t.prototype.internalStart=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openVPage(Me),[2]})})},t}(o.b),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickCustomer=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.showCustomerDetail(e.id)];case 1:return t.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller,i=n.pageCustomerSearch,c=n.showSelectCustomerUnit,s=(r.createElement("div",{className:"cursor-pointer py-2"},r.createElement("span",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,c()];case 1:return[2,e.sent()]}})})}},r.createElement(o.e,{name:"plus"}))),r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u672a\u627e\u5230\u5ba2\u6237\uff01"));return r.createElement(o.k,{header:"\u5ba2\u6237",onScrollBottom:t.onScrollBottom,headerClassName:"bg-primary py-1 px-3"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2  ",size:"md",onSearch:function(e){return t.controller.searchCustomerByKey(e)},placeholder:"\u641c\u7d22\u5ba2\u6237\u59d3\u540d\u3001\u5355\u4f4d"}),r.createElement(o.i,{before:"",none:s,items:i,item:{render:t.renderCustomer,onClick:t.onClickCustomer}}))}),t.onScrollBottom=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.pageCustomerSearch.more()];case 1:return e.sent(),[2]}})})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t.prototype.renderCustomer=function(e,t){var n=e.name,i=e.unit,a=r.createElement("div",null,r.createElement(o.e,{name:"user",className:" my-2 mr-3 text-info"})," ",r.createElement("span",{className:"font-weight-bold"},n)),c=r.createElement("div",{className:"text-muted  my-2 mr-3 "},r.createElement("small",null," ",Object(o.w)(i,function(e){return e.name})));return r.createElement(o.h,{className:"px-3 py-2 ",left:a,right:c})},t}(o.q),We=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=11,n.searchCustomerQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchCustomerQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),Le=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=11,n.searchCustomerQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchCustomerQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),Ke=function(e){function t(t,n){var i=e.call(this,n)||this;i.searchByKey=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.pageCustomer=new We(this.querySearchMyCustomer),this.pageCustomer.first({key:e}),[2]})})},i.searchCustomerByKey=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.pageCustomerSearch=new Le(this.querySearchMyCustomer),this.pageCustomerSearch.first({key:e}),[2]})})},i.loadCustomerDetail=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.tuidMyCustomer.load(e)];case 1:return[2,t.sent()]}})})},i.showCustomerDetail=function(e){return a.b(i,void 0,void 0,function(){var t,n;return a.e(this,function(r){switch(r.label){case 0:return[4,this.loadCustomerDetail(e)];case 1:return t=r.sent(),[4,this.mapCustomerMyCustomerMap.query({mycustomer:t.id})];case 2:return(n=r.sent()).ret.length>0?this.innerCustomer=n.ret[0].customer:this.innerCustomer=null,this.openVPage(Ie,t),[2]}})})},i.showSelectCustomer=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.searchByKey(""),this.task=e,this.openVPage(Ae),[2]})})},i.showCustomerSearch=function(){return a.b(i,void 0,Promise,function(){return a.e(this,function(e){return this.pageCustomerSearch=null,this.openVPage(Ue),[2]})})},i.selectCustomer=function(e){return a.b(i,void 0,Promise,function(){return a.e(this,function(t){return this.task.customer=e,this.cApp.cSalesTask.showCrateCheck(this.task),[2]})})},i.returnCustomer=function(e){return a.b(i,void 0,Promise,function(){return a.e(this,function(t){return this.returnCall(e),[2]})})},i.showCreateCustomer=function(e){i.openVPage(De,e)},i.showSelectCustomerUnit=function(){i.cApp.cCustomerUnit.start()},i.createMyCustomer=function(e,t){return a.b(i,void 0,void 0,function(){var n;return a.e(this,function(r){switch(r.label){case 0:return n={unit:t.id,no:void 0,name:e.Name,firstName:"",lastName:"",gender:e.Gender?1:e.Gender,salutation:e.Salutation,birthDay:e.BirthDay},[4,this.actionCreateMyCustomer.submit(n)];case 1:return r.sent(),this.openVPage(Oe),[2]}})})},i.updateMyCustomer=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.tuidMyCustomer.save(e.id,e)];case 1:return t.sent(),[2]}})})},i.showCustomerSelect=function(e){return a.b(i,void 0,void 0,function(){var t,n;return a.e(this,function(r){switch(r.label){case 0:return t=this.cApp.cWebUser,n=this,[4,t.call()];case 1:return n.innerCustomer=r.sent(),[4,this.createWebUserMyCustomerMap(this.innerCustomer.id,e)];case 2:return r.sent(),[2]}})})},i.createWebUserMyCustomerMap=function(e,t){return a.b(i,void 0,void 0,function(){return a.e(this,function(n){switch(n.label){case 0:return[4,this.actionUpateCustomerMyCustomerMap.submit({mycustomer:t,customer:e})];case 1:return n.sent(),[2]}})})},i.pickAddress=function(e,t,n){return a.b(i,void 0,Promise,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,new Fe(this.cApp,void 0).call()];case 1:return[2,e.sent()]}})})},i.render=Object(l.a)(function(){return i.renderView(Ve)}),i.tab=function(){return i.searchByKey(""),r.createElement(i.render,null)},i.cApp=t;var o=i.cApp.cUqSalesTask;return i.tuidMyCustomer=o.tuid("mycustomer"),i.querySearchMyCustomer=o.query("searchmycustomer"),i.actionCreateMyCustomer=o.action("CreateMyCustomer"),i.mapCustomerMyCustomerMap=o.map("CustomerMyCustomerMap"),i.actionUpateCustomerMyCustomerMap=o.action("UpateCustomerMyCustomerMap"),i.querysearchCustomerMyCustomerMap=o.query("searchCustomerMyCustomerMap"),i}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.pageCustomer=null,this.task=e,this.searchByKey(""),this.openVPage(ze),[2]})})},a.c([d.l],t.prototype,"pageCustomer",void 0),a.c([d.l],t.prototype,"pageCustomerSearch",void 0),a.c([d.l],t.prototype,"innerCustomer",void 0),t}(o.b);function Qe(e,t,n,i,a){return r.createElement(o.h,{className:"cursor-pointer w-100 py-2 my-2 align-items-center  ",onClick:a,left:r.createElement(o.e,{name:e,className:"mr-3 "+t,fixWidth:!0,size:"lg"}),right:r.createElement("div",{className:"w-2c text-right"}," ",r.createElement("i",{className:"fa fa-chevron-right"}))},n,r.createElement("span",{className:" ml-3"},i))}var He=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(){var e=t.controller.cApp,n=e.cSalesTask,i=(e.cMessage,e.cCoupon),c=n.showEmployeeHistory,s=t.controller,u=s.showTeam,l=s.showAchievement,m=[{type:"component",component:Qe("th-large","text-warning","\u4f18\u60e0\u7801",void 0,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,i.showCreateCoupon()];case 1:return[2,e.sent()]}})})})},{type:"component",component:Qe("tag","text-info","\u5df2\u5b8c\u6210\u4efb\u52a1",void 0,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,c()];case 1:return[2,e.sent()]}})})})},{type:"component",component:Qe("line-chart","text-danger","\u4e2a\u4eba\u4e1a\u7ee9",void 0,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,l()];case 1:return[2,e.sent()]}})})})},{type:"component",component:Qe("sitemap","text-info","\u6211\u7684\u56e2\u961f",void 0,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,u()];case 1:return[2,e.sent()]}})})})}];return r.createElement("div",null,t.meInfo(),r.createElement(o.m,{className:"",rows:m,values:null,alignValue:"right"}))}),t}return a.d(t,e),t.prototype.open=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t.prototype.render=function(e){var t=this.controller,n=t.user,i=t.inviteCode;return this.user=n,this.inviteCode=i,r.createElement(this.page,null)},t.prototype.userSpan=function(e,t){return t?r.createElement(r.Fragment,null,r.createElement("b",null,t," \xa0 ",r.createElement("small",{className:"muted"},e))):r.createElement("b",null,e)},t.prototype.meInfo=function(){var e=this,t=this.controller.user;if(void 0===t)return null;t.id;var n,i,c=t.name,s=t.nick,l=t.icon,m=this.controller,d=m.showMeDetail,h=m.showMessage,p=m.showSet,f=this.controller.cApp.cMessage.count.get(),v=function(){return a.b(e,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,d()];case 1:return[2,e.sent()]}})})};return f>0&&(n="cursor-pointer",i=f<100?r.createElement("u",null,f):r.createElement("u",null,"99+")),r.createElement("div",{className:"py-2 pt-2 px-3 cursor-pointer w-100 bg-primary text-white"},r.createElement(o.h,{className:"my-2",left:"\u6211\u7684",right:r.createElement("span",{onClick:p},"\u8bbe\u7f6e")}),r.createElement(o.h,{left:r.createElement("div",{onClick:v}," ",r.createElement(o.g,{className:"w-3c h-3c mr-3",src:l})," "),right:r.createElement("div",{className:u()("jk-cart ml-1 mr-2",n),onClick:function(){return a.b(e,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return[2,e.sent()]}})})}},r.createElement(o.e,{className:"text-white fa-lg",name:"envelope-o"}),i)},r.createElement("div",{onClick:v},r.createElement("div",null,this.userSpan(c,s)),r.createElement("div",{className:"small"},r.createElement("span",null,"\u9080\u8bf7\u7801:")," ",this.inviteCode))))},t}(o.q),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.schema=[{name:"icon",type:"image"},{name:"nick",type:"string"}],t.uiSchema={items:{icon:{widget:"image",label:"\u5934\u50cf"},nick:{widget:"text",label:"\u6635\u79f0",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"}}},t.onItemChanged=function(e,n,r){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(r){switch(r.label){case 0:return t=e.name,[4,o.x.userSetProp(t,n)];case 1:return r.sent(),this.data[t]=n,o.t.user[t]=n,o.t.saveLocalUser(),[2]}})})},t.page=function(){return r.createElement(o.k,{header:"\u4e2a\u4eba\u4fe1\u606f",headerClassName:"bg-primary py-1"},r.createElement(o.d,{schema:t.schema,uiSchema:t.uiSchema,data:t.data,onItemChanged:t.onItemChanged}),r.createElement(o.h,{className:"d-flex px-3 py-2 bg-white align-items-center cursor-pointer",right:t.controller.inviteCode},"\u9080\u8bf7\u7801"))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){var e,t,n;return a.e(this,function(r){return e=o.t.user,t=e.nick,n=e.icon,this.data={nick:t,icon:n},this.openPage(this.page),[2]})})},a.c([d.l],t.prototype,"data",void 0),t}(o.q);function Je(e,t,n,i,a){return r.createElement(o.h,{className:"cursor-pointer w-100 py-2 my-2 align-items-center  ",onClick:a,left:r.createElement(o.e,{name:e,className:"mr-3 "+t,fixWidth:!0,size:"lg"}),right:r.createElement("div",{className:"w-2c text-right"}," ",r.createElement("i",{className:"fa fa-chevron-right"}))},n,r.createElement("span",{className:" ml-3"},i))}var Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(e){var n,i,c,s,u,l=[{type:"component",component:(n="cny",i="text-warning",c="\u9500\u552e\u91d1\u989d",s=t.salesAmont,u=void 0,r.createElement(o.h,{className:"cursor-pointer w-100 py-2 my-2 align-items-center  ",onClick:u,left:r.createElement(o.e,{name:n,className:"mr-3 "+i,fixWidth:!0,size:"lg"}),right:r.createElement("div",{className:"w-2c text-right"})},c,r.createElement("span",{className:" ml-3"},s)))},{type:"component",component:Je("gg","text-info","A\u7c7b\u7ee9\u6548",t.oneAmont,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.showAchievementDetail("A")];case 1:return[2,e.sent()]}})})})},{type:"component",component:Je("gg","text-danger","B\u7c7b\u7ee9\u6548",t.twoAmont,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.showAchievementDetail("B")];case 1:return[2,e.sent()]}})})})},{type:"component",component:Je("gg","text-warning","C\u7c7b\u7ee9\u6548",t.threeAmont,function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.showAchievementDetail("C")];case 1:return[2,e.sent()]}})})})}];return r.createElement(o.k,{header:"\u6211\u7684\u4e1a\u7ee9",headerClassName:W.headerClass},r.createElement(o.m,{className:"",rows:l,values:null,alignValue:"right"}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){var t=this;return a.e(this,function(n){return e.forEach(function(e){var n=e.Type;4==n?t.salesAmont=e.SaleVolume:1==n?t.oneAmont=e.SaleVolume:2==n?t.twoAmont=e.SaleVolume:3==n&&(t.threeAmont=e.SaleVolume)}),this.openPage(this.page,e),[2]})})},t}(o.q),Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logout=function(){o.t.showLogout()},t.page=function(){var e=r.createElement("button",{type:"button",className:"btn btn-danger flex-grow-1 mx-3 my-1 w-100",onClick:t.logout},r.createElement(o.e,{name:"sign-out",size:"lg"})," \u9000\u51fa");return r.createElement(o.k,{header:"\u8bbe\u7f6e",headerClassName:W.headerClass,footer:e})},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t}(o.q),$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(){var e=[{title:"A\u7c7b\u4e1a\u7ee9",content:function(){return r.createElement(o.i,{items:t.achievementsA,item:{render:t.renderItem},none:"\u65e0\u4e1a\u7ee9"})},isSelected:"A"===t.currentState,load:function(){return a.b(t,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return e=this,[4,this.controller.searchAchievementDetail(1)];case 1:return e.achievementsA=t.sent(),[2]}})})}},{title:"B\u7c7b\u4e1a\u7ee9",isSelected:"B"===t.currentState,content:function(){return r.createElement(o.i,{items:t.achievementsB,item:{render:t.renderItem},none:"\u65e0\u4e1a\u7ee9"})},load:function(){return a.b(t,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return this.currentState="all",e=this,[4,this.controller.searchAchievementDetail(2)];case 1:return e.achievementsB=t.sent(),[2]}})})}},{title:"C\u7c7b\u4e1a\u7ee9",isSelected:"C"===t.currentState,content:function(){return r.createElement(o.i,{items:t.achievementsB,item:{render:t.renderItem},none:"\u65e0\u4e1a\u7ee9"})},load:function(){return a.b(t,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return this.currentState="all",e=this,[4,this.controller.searchAchievementDetail(3)];case 1:return e.achievementsB=t.sent(),[2]}})})}}];return r.createElement(o.k,{header:"\u6211\u7684\u4e1a\u7ee9",tabs:e,tabPosition:"top"})}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.currentState=e,this.openPage(this.page),[2]})})},t.prototype.renderItem=function(e,t){var n=e.date,i=e.mycustomer,a=e.price,c=r.createElement("small",{className:"text-muted"},r.createElement(o.c,{date:n}),r.createElement("span",{className:"ml-3"},Object(o.w)(i,function(e){return e.name}))),s=r.createElement("small",{className:"text-muted"},r.createElement("div",{className:"px-3"}," ",a,"\uffe5"));return r.createElement("div",{className:"d-block"},r.createElement("div",null,r.createElement(o.h,{className:"px-3 py-2 ",left:c,right:s})))},a.c([d.l],t.prototype,"achievementsA",void 0),a.c([d.l],t.prototype,"achievementsB",void 0),a.c([d.l],t.prototype,"achievementsC",void 0),t}(o.q),Xe=function(e){function t(t,n){var i=e.call(this,n)||this;i.load=function(){return a.b(i,void 0,void 0,function(){var e,t,n,r;return a.e(this,function(i){switch(i.label){case 0:return e=this,[4,this.querySearchPosition.table({})];case 1:return e.position=i.sent(),t=String(this.position[0].code+1e8),n=t.substr(1,4),r=t.substr(5),this.inviteCode=n+" "+r,[2]}})})},i.showMeDetail=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){return this.openVPage(Re),[2]})})},i.searchPosition=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.querySearchPosition.table({})];case 1:return[2,e.sent()]}})})},i.showTeam=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.cApp.cTeam.start()];case 1:return e.sent(),[2]}})})},i.showAchievement=function(){return a.b(i,void 0,void 0,function(){var e,t;return a.e(this,function(n){switch(n.label){case 0:return e={user:this.user.id},[4,this.querySearchAchievement.table(e)];case 1:return t=n.sent(),this.openVPage(Ge,t),[2]}})})},i.showAchievementDetail=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage($e,e),[2]})})},i.searchAchievementDetail=function(e){return a.b(i,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return t={types:e},[4,this.querySearchAchievementHistory.table(t)];case 1:return[2,n.sent()]}})})},i.showMessage=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.cApp.cMessage.start()];case 1:return e.sent(),[2]}})})},i.showSet=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){return this.openVPage(Ye),[2]})})},i.render=function(){return i.renderView(He)},i.tab=function(){return r.createElement(i.render,null)},i.cApp=t;var o=i.cApp.cUqSalesTask;return i.querySearchPosition=o.query("searchposition"),i.querySearchAchievement=o.query("SearchAchievement"),i.querySearchAchievementHistory=o.query("SearchAchievementHistory"),i.actionComputeAchievement=o.action("ComputeAchievement"),i}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.load()];case 1:return t.sent(),o.t.clear(),this.openVPage(He,e),[4,this.actionComputeAchievement.submit({})];case 2:return t.sent(),[2]}})})},t}(o.b),Ze=[{name:"invitacode",type:"string",required:!0,maxLength:8},{name:"submit",type:"submit"}],_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{invitacode:{widget:"text",label:"\u9080\u8bf7\u7801",placeholder:"\u8bf7\u8f93\u5165\u9080\u8bf7\u7801"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary w-8c"}}},t.onCreatePosition=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.form?[4,this.form.buttonClick("submit")]:[2];case 1:return e.sent(),[2]}})})},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.createPosition(n.form.data)];case 1:return e.sent(),[2]}})})},t.onEnter=function(e,n){return a.b(t,void 0,Promise,function(){return a.e(this,function(t){switch(t.label){case 0:return"invitacode"!==e?[3,2]:[4,this.onCreatePosition()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.page=Object(l.a)(function(e){return r.createElement(o.k,{header:"\u8f7b\u4ee3\u7406",headerClassName:W.headerClass,logout:!0},r.createElement(o.f,{ref:function(e){return t.form=e},className:"m-3",schema:Ze,uiSchema:t.uiSchema,onButtonClick:t.onFormButtonClick,requiredFlag:!1,onEnter:t.onEnter}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.render=function(e){return r.createElement(this.page,null)},t}(o.q),et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=function(e){return r.createElement(o.k,{header:"\u901a\u8fc7",headerClassName:W.headerClass},r.createElement("div",{className:"p-5 text-center"},r.createElement("p",{className:"text-primary mb-5"},"\u6b22\u8fce\u52a0\u5165\u8f7b\u4ee3\u7406\u4f53\u7cfb\u3002 \xa0 ",r.createElement(o.e,{name:"hand-peace-o",size:"2x",className:"text-danger"})),r.createElement("button",{className:"btn btn-outline-primary w-6c",onClick:t.controller.startApp},"\u5f00\u59cb\u4f53\u9a8c")))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t}(o.q),tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=function(e){return r.createElement(o.k,{header:"\u65e0\u6cd5\u901a\u8fc7",back:"none",headerClassName:W.headerClass},r.createElement("div",{className:"p-5 text-center"},r.createElement("p",{className:"text-primary mb-5"},r.createElement(o.e,{name:"minus-circle",size:"2x",className:"text-danger"}),r.createElement("br",null),r.createElement("br",null),"\u65e0\u6548\u7684\u9080\u8bf7\u7801"),r.createElement("button",{className:"btn btn-outline-primary w-6c",onClick:t.controller.startApp},"\u8fd4\u56de")))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.openPage(this.page,e)];case 1:return t.sent(),[2]}})})},t}(o.q),nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAgreeAgencyClause=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.onAgreeAgencyClause(this.pa)];case 1:return e.sent(),[2]}})})},t.onDisagreeAgencyClause=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){return o.t.showLogout(),[2]})})},t.page=function(e){return r.createElement(o.k,{header:"\u6e29\u99a8\u63d0\u793a",back:"none",headerClassName:W.headerClass},r.createElement("div",{className:"p-5 text-center"},r.createElement("p",{className:"mb-5 pl-2 text-left "},"\u6b22\u8fce\u4f7f\u7528\u767e\u7075\u5a01\u8f7b\u4ee3\u7406\u7cfb\u7edf\uff01",r.createElement("br",null),r.createElement("br",null),r.createElement("span",{className:"px-3"}),"\u5728\u60a8\u4f7f\u7528\u767e\u7075\u5a01\u8f7b\u4ee3\u7406\u7cfb\u7edf\u524d\uff0c\u8bf7\u8ba4\u771f\u9605\u8bfb\u300a\u670d\u52a1\u6761\u6b3e\u300b\uff0c\u8bf7\u60a8\u5728\u540c\u610f\u5e76\u63a5\u53d7\u5168\u90e8\u6761\u6b3e\u540e\u518d\u5f00\u59cb\u4f7f\u7528\u6211\u4eec\u7684\u670d\u52a1\u3002",r.createElement("br",null),r.createElement("br",null),"\u8bf7\u60a8\u6ce8\u610f\u4ee5\u4e0b\u4e24\u70b9\uff1a",r.createElement("br",null),r.createElement(o.e,{name:"chevron-right",className:"text-info small"}),"\t\u6211\u4eec\u4e0d\u652f\u6301\u672c\u5355\u4f4d\u5728\u804c\u4eba\u5458\u8fdd\u53cd\u672c\u5355\u4f4d\u91c7\u8d2d\u89c4\u5b9a\u76f4\u63a5\u6216\u95f4\u63a5\u4ee3\u7406\u672c\u5355\u4f4d\u5411\u767e\u7075\u5a01\u7684\u91c7\u8d2d\u4e1a\u52a1\u3002",r.createElement("br",null),r.createElement(o.e,{name:"chevron-right",className:"text-info small"}),"\t\u767e\u7075\u5a01\u4fdd\u7559\u56e0\u4ee3\u7406\u8fdd\u53cd\u89c4\u5219\u800c\u5904\u7f6e\u6536\u76ca\u7684\u6743\u529b\u3002",r.createElement("br",null)),r.createElement("div",null,r.createElement("button",{className:"btn btn-outline-primary w-6c mx-4",onClick:t.onDisagreeAgencyClause},"\u6682\u4e0d\u540c\u610f"),r.createElement("button",{type:"button",className:"btn btn-primary  mx-4",onClick:t.onAgreeAgencyClause},r.createElement("span",{className:"px-4"},"\u540c\u610f")))))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return this.pa=e,[4,this.openPage(this.page,e)];case 1:return t.sent(),[2]}})})},t}(o.q),rt=function(e){function t(t,n){var r=e.call(this,n)||this;r.onAgreeAgencyClause=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.openVPage(_e,e)];case 1:return t.sent(),[2]}})})},r.isPosition=function(){return a.b(r,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return[4,this.searchPosition()];case 1:return(e=t.sent())&&e.length>0?[2,!0]:[2,!1]}})})},r.searchPosition=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.querySearchPosition.table({})];case 1:return[2,e.sent()]}})})},r.startApp=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.cApp.start()];case 1:return e.sent(),[2]}})})},r.createPosition=function(e){return a.b(r,void 0,void 0,function(){var t,n,r;return a.e(this,function(i){switch(i.label){case 0:return t=(t=e.invitacode).replace(/\s/g,""),!0!==isNaN(t)?[3,2]:[4,this.openVPage(tt)];case 1:return i.sent(),[2];case 2:return[4,this.actionPosition.submit({invitacode:t})];case 3:return n=i.sent(),r=n.succeed,this.ceasePage(),1!==r?[3,6]:[4,this.tuidUser.save(this.user.id,this.user)];case 4:return i.sent(),[4,this.openVPage(et,n)];case 5:return i.sent(),[3,8];case 6:return-1!==r?[3,8]:[4,this.openVPage(tt,n)];case 7:i.sent(),i.label=8;case 8:return[2,n]}})})},r.cApp=t;var i=r.cApp.cUqSalesTask;return r.tuidUser=i.tuid("$user"),r.querySearchPosition=i.query("searchposition"),r.actionPosition=i.action("CreatePosition"),r}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return this.user,[4,this.isPosition()];case 1:return t.sent()?[3,3]:(o.t.clear(),[4,this.openVPage(nt,e)]);case 2:return t.sent(),[3,5];case 3:return[4,this.cApp.cSalesTask.start()];case 4:t.sent(),t.label=5;case 5:return[2]}})})},t}(o.b),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItem=function(e,n){var i=t.controller.showPeerDetail,c=e.children,s=Object(o.w)(c,function(e){return e.name});return r.createElement(o.h,{className:"px-3 py-2 ",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,i(e)];case 1:return[2,t.sent()]}})})},left:r.createElement(o.e,{name:"user",className:" my-2 mr-3 text-info"}),right:r.createElement("div",{className:"w-2c text-right"}," ",r.createElement("i",{className:"fa fa-chevron-right"}))},r.createElement("div",{className:"font-weight-bold "},t.userSpan(s,e.assigned)))},t.page=function(){var e=r.createElement("div",{className:"my-3 mx-2 text-muted"},"\u8fd8\u6ca1\u6709\u56e2\u961f\u54e6\uff01\u9a6c\u4e0a\u53d1\u5c55\u56e2\u961f\u5427\uff01\uff01");return r.createElement(o.k,{header:"\u6211\u7684\u56e2\u961f",headerClassName:"bg-primary py-1"},r.createElement(o.i,{before:"",none:e,items:t.team,item:{render:t.renderItem}}))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.team=e,this.openPage(this.page),[2]})})},t.prototype.userSpan=function(e,t){return t?r.createElement(r.Fragment,null,r.createElement("b",null,t," \xa0 ",r.createElement("small",{className:"muted"},e))):r.createElement("b",null,e)},t}(o.q),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.schema=[{name:"assigend",type:"string"}],t.uiSchema={items:{assigend:{widget:"text",label:"\u6635\u79f0",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"}}},t.onItemChanged=function(e,n,r){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(r){switch(r.label){case 0:return t=e.name,[4,this.controller.savePeerAssigned(this.peer,n)];case 1:return r.sent(),this.data[t]=n,[2]}})})},t.page=Object(l.a)(function(){return r.createElement(o.k,{header:"\u7c89\u4e1d\u4fe1\u606f",headerClassName:W.headerClass},r.createElement(o.d,{schema:t.schema,uiSchema:t.uiSchema,data:t.data,onItemChanged:t.onItemChanged}),r.createElement(o.h,{className:" bg-white pl-3 py-2",left:r.createElement("div",null,r.createElement("span",null,"\u9500\u91cf"))},r.createElement("div",{className:" w-100 pl-3"},"1000000")))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){var t,n;return a.e(this,function(r){return t=e.assigned,n=e.children,this.peer=n,this.data={assigend:t},this.openPage(this.page),[2]})})},a.c([d.l],t.prototype,"data",void 0),t}(o.q),ot=function(e){function t(t,n){var i=e.call(this,n)||this;i.searchTeam=function(){return a.b(i,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.qeurySearchTeam.table({})];case 1:return[2,e.sent()]}})})},i.showPeerDetail=function(e){return a.b(i,void 0,void 0,function(){return a.e(this,function(t){return this.openVPage(at,e),[2]})})},i.savePeerAssigned=function(e,t){return a.b(i,void 0,void 0,function(){var n;return a.e(this,function(r){return n={peer:e.id,Assigned:t},this.actionSavePeerAssigned.submit(n),[2]})})},i.render=Object(l.a)(function(){return i.renderView(He)}),i.tab=function(){return r.createElement(i.render,null)},i.cApp=t;var o=i.cApp.cUqSalesTask;return i.qeurySearchTeam=o.query("searchteam"),i.actionSavePeerAssigned=o.action("savePeerassigned"),i}return a.d(t,e),t.prototype.internalStart=function(){return a.b(this,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return[4,this.searchTeam()];case 1:return e=t.sent(),this.openVPage(it,e),[2]}})})},t}(o.b),ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItem=function(e,t){var n=e.date,i=e.note,a=e.peer,c=r.createElement("small",{className:"text-muted"},r.createElement(o.c,{date:n})),s=r.createElement("small",{className:"text-muted"},Object(o.w)(a,function(e){return e.name}));return r.createElement("div",{className:"d-block p-3"},r.createElement(o.h,{left:c,right:s}),r.createElement(o.h,null," ",i))},t.page=function(){var e=r.createElement("div",{className:"my-3 mx-2 text-muted"});return r.createElement(o.k,{header:"\u6d88\u606f",headerClassName:"bg-primary py-1"},r.createElement(o.i,{before:"",none:e,items:t.message,item:{render:t.renderItem}}))},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.message=e,this.openPage(this.page),[2]})})},t}(o.q),st=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),ut=function(e){function t(t,n){var r=e.call(this,n)||this;r.count=d.l.box(0),r.searchNowMessage=function(){return a.b(r,void 0,void 0,function(){var e;return a.e(this,function(t){switch(t.label){case 0:return[4,this.querySearchNowMessage.table({})];case 1:return(e=t.sent())&&e.length>0?this.count.set(e[0].count):this.count.set(0),[2]}})})},r.updateNowMessage=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.actionUpdateNowMessage.submit({})];case 1:return e.sent(),[4,this.searchNowMessage()];case 2:return e.sent(),0,[2]}})})},r.showMessage=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.searchMessage()];case 1:return e.sent(),this.openVPage(ct,this.pageMessage),[4,this.updateNowMessage()];case 2:return e.sent(),[2]}})})},r.searchMessage=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.pageMessage=new st(this.querySearchMessage),[4,this.pageMessage.first({})];case 1:return e.sent(),[2]}})})},r.cApp=t;var i=r.cApp.cUqSalesTask;return r.querySearchMessage=i.query("SearchMessage"),r.querySearchNowMessage=i.query("SearchNowMessage"),r.actionUpdateNowMessage=i.action("UpdateNowMessage"),r.searchNowMessage(),r}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.pageMessage=null,[4,this.showMessage()];case 1:return e.sent(),[2]}})})},a.c([d.l],t.prototype,"pageMessage",void 0),t}(o.b),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickRow=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.showCreateCustomer(e)];case 1:return t.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller,i=n.pageUnit,c=n.showCreateUnit,s=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u6ca1\u6709\u641c\u7d22\u5230\u5355\u4f4d\uff01"),u=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u641c\u7d22\u5355\u4f4d\u6216\u70b9\u51fb\u53f3\u4e0a\u89d2\u52a0\u53f7\u65b0\u5efa\u5355\u4f4d\uff01"),l=r.createElement("div",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,c()];case 1:return[2,e.sent()]}})})},className:"cursor-pointer px-3 py-2"},r.createElement(o.e,{name:"plus"}));return r.createElement(o.k,{header:"\u9009\u62e9\u5355\u4f4d",headerClassName:"bg-primary",right:l},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u5355\u4f4d"}),r.createElement(o.i,{before:"",none:s,items:i,item:{render:t.renderItem,onClick:t.onClickRow}}),!i&&u)}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.renderItem=function(e,t){var n=e.name;return r.createElement(o.h,{className:"px-3 py-1 ",left:r.createElement(o.e,{name:"university",className:" my-2 mr-3 text-info"})},r.createElement("div",{className:"font-weight-bold"}),r.createElement("div",null,n))},t}(o.q),mt=[{name:"Name",type:"string",required:!0},{name:"submit",type:"submit"}],dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{Name:{widget:"text",label:"\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0"},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary w-8c"}}},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.createMyCustomerUnit(n.data)];case 1:return e.sent(),[2]}})})},t.page=Object(l.a)(function(e){return r.createElement(o.k,{header:"\u65b0\u5efa\u5355\u4f4d",headerClassName:W.headerClass},r.createElement(o.f,{ref:function(e){return t.form=e},className:"my-3 mx-3",schema:mt,uiSchema:t.uiSchema,onButtonClick:t.onFormButtonClick,requiredFlag:!1}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t}(o.q),ht=[{name:"no",type:"string"},{name:"name",type:"string"}],pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{no:{widget:"text",label:"\u5355\u4f4d\u7f16\u7801",placeholder:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0"},name:{widget:"text",label:"\u5355\u4f4d\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5355\u4f4d\u540d\u79f0"}}},t.onItemChanged=function(e,n,r){return a.b(t,void 0,void 0,function(){var t;return a.e(this,function(r){switch(r.label){case 0:return t=e.name,this.unit[t]=n,this.unit.createTime="2019-01-01",[4,this.controller.updateMyCustomerUnit(this.unit)];case 1:return r.sent(),o.t.saveLocalUser(),[2]}})})},t.page=Object(l.a)(function(){r.createElement("div",{className:"cursor-pointer py-2 px-3 "},r.createElement(o.e,{name:"pencil"}));return r.createElement(o.k,{header:"\u5ba2\u6237\u5355\u4f4d\u8be6\u60c5",headerClassName:W.headerClass},r.createElement(o.d,{schema:ht,uiSchema:t.uiSchema,data:t.unit,onItemChanged:t.onItemChanged}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.unit=e,this.openPage(this.page),[2]})})},a.c([d.l],t.prototype,"unit",void 0),t}(o.q),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comeBack=function(){t.closePage(2)},t.showresult=function(e){return 0===e.code?r.createElement(r.Fragment,null,"\u5355\u4f4d\u5df2\u5b58\u5728\uff0c\u521b\u5efa\u5931\u8d25\uff01"):r.createElement(r.Fragment,null,"\u5355\u4f4d\u6dfb\u52a0\u6210\u529f\uff0c\u8bf7\u5728\u5355\u4f4d\u641c\u7d22\u9875\u9762\u67e5\u770b\u8be6\u60c5\uff01")},t.page=Object(l.a)(function(e){return r.createElement(o.k,{header:"\u65b0\u5efa\u5355\u4f4d",headerClassName:"bg-primary py-1 px-3"},r.createElement("div",{className:"w-100 text-center m-3 text-muted"},t.showresult(e)),r.createElement("div",{className:"w-100 text-center"},r.createElement("label",{className:"text-success",onClick:t.comeBack}," \u8fd4\u56de")))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t}(o.q),vt=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),bt=function(e){function t(t,n){var r=e.call(this,n)||this;r.searchByKey=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.pageUnit=new vt(this.querySearchMyCustomerunit),this.pageUnit.first({key:e}),[2]})})},r.showCreateUnit=function(){r.openVPage(dt)},r.createMyCustomerUnit=function(e){return a.b(r,void 0,void 0,function(){var t,n;return a.e(this,function(r){switch(r.label){case 0:return t={no:void 0,name:e.Name},[4,this.actionCreateMyCustomerunit.submit(t)];case 1:return n=r.sent(),this.openVPage(ft,n),[2]}})})},r.showCustomerUnitDetail=function(e){return a.b(r,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.tuidMyCustomerUnit.load(e)];case 1:return t=n.sent(),this.openVPage(pt,t),[2]}})})},r.showCreateCustomer=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.cApp.cCustomer.showCreateCustomer(e),[2]})})},r.showCustomerUnitEdit=function(e){return a.b(r,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.tuidMyCustomerUnit.load(e)];case 1:return t=n.sent(),this.openVPage(pt,t),[2]}})})},r.updateMyCustomerUnit=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.tuidMyCustomerUnit.save(e.id,e)];case 1:return t.sent(),this.closePage(),[2]}})})},r.cApp=t;var i=r.cApp,o=(i.cUqCustomer,i.cUqSalesTask);return r.tuidMyCustomerUnit=o.tuid("mycustomerunit"),r.querySearchMyCustomerunit=o.query("searchmycustomerunit"),r.actionCreateMyCustomerunit=o.action("CreateMyCustomerunit"),r}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.pageUnit=null,this.openVPage(lt),[2]})})},a.c([d.l],t.prototype,"pageUnit",void 0),t}(o.b),gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItem=function(e,n){var i=t.controller.showCouponDetail,c="",s=e.code,u=e.validitydate,l=e.discount,m=e.preferential;s&&(c=(s=String(s+1e8)).substr(1,4)+" "+s.substr(5));var d,h,p=r.createElement("div",null,r.createElement(o.e,{name:"th-large",className:" my-2 mr-3 text-warning"}),c),f=r.createElement("div",{className:"text-muted"},r.createElement("small",null,"\u6709\u6548\u671f\uff1a",r.createElement(o.c,{date:u})));return l&&(h=r.createElement("div",null,r.createElement("small",null,"\u6298\u6263\uff1a",r.createElement("span",{className:" mx-3 "},l," \u6298")))),m&&(d=r.createElement("div",{className:"text-muted"},r.createElement("small",null,"\u4f18\u60e0\uff1a",r.createElement("span",{className:"mx-3"},"\uffe5",m)))),r.createElement(o.h,{className:"px-3 py-2",onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,i(e.id)];case 1:return[2,t.sent()]}})})}},r.createElement(o.h,{left:p,right:f}),r.createElement(o.h,{left:h},d))},t.page=Object(l.a)(function(){var e=t.controller,n=e.pageCoupon,i=e.showCreateCoupon,c=(r.createElement("div",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,i()];case 1:return[2,e.sent()]}})})},className:"cursor-pointer py-2"},r.createElement(o.e,{name:"plus"})),r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u8fd8\u6ca1\u6709\u4f18\u60e0\u7801\u54e6\uff01\u9a6c\u4e0a\u6dfb\u52a0\u62db\u63fd\u5ba2\u6237\u5427\uff01"));return r.createElement(o.k,{header:"\u4f18\u60e0\u7801",headerClassName:W.headerClass},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2  ",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u4f18\u60e0\u7f16\u7801"}),r.createElement(o.i,{before:"",none:c,items:n,item:{render:t.renderItem,onClick:null}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t}(o.q),yt=[{name:"validitydate",type:"date",required:!0},{name:"discount",type:"string",required:!1},{name:"preferential",type:"string",required:!1},{name:"customer",type:"id",required:!1},{name:"submit",type:"submit"}],Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dateVisible=!1,t.list=[{value:1,title:"\u4e00\u5468",name:"b"},{value:2,title:"\u4e24\u5468",name:"b"}],t.onChange=function(e){var n=e.currentTarget.value;t.dateVisible="0"===n;var r=new Date;"1"===n?r.setDate(r.getDate()+7):"2"===n&&r.setDate(r.getDate()+14);var i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();t.setValue(i)},t.render=function(){return r.createElement("div",{className:"form-control",style:{height:"auto"}},t.list.map(function(e,n){return r.createElement("label",{className:"my-1 mx-2"},r.createElement("input",{type:"radio",value:e.value,name:e.name,onChange:t.onChange})," ",e.title," \xa0 ")}))},t}return a.d(t,e),a.c([d.l],t.prototype,"dateVisible",void 0),t}(o.s),wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dateVisible=!1,t.list=[{value:.05,title:"95\u6298",name:"a"},{value:.1,title:"9\u6298",name:"a"},{value:.15,title:"85\u6298",name:"a"},{value:.2,title:" 8  \u6298     ",name:"a"},{value:.3,title:"7\u6298",name:"a"},{value:.4,title:"6\u6298",name:"a"}],t.onChange=function(e){var n=e.currentTarget.value;t.dateVisible="0"===n,t.setValue(n)},t.onDateChange=function(e){if(parseInt(e.currentTarget.value)<10){e.target.value;t.setValue(e.currentTarget.value)}else t.setValue(0)},t.render=function(){return r.createElement("div",{className:"form-control",style:{height:"auto"}},t.list.map(function(e,n){return r.createElement("label",{className:"my-1 mx-3"},r.createElement("input",{type:"radio",value:e.value,name:e.name,onChange:t.onChange})," ",e.title," \xa0 ")}),r.createElement("div",null,r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("label",{className:"my-1 mx-3"},r.createElement("input",{type:"radio",value:-1,name:"a",onChange:t.onChange})," \u65e0 \xa0\xa0\xa0")),r.createElement("td",null,r.createElement("label",{className:"my-1 mx-3"},r.createElement("input",{type:"radio",value:0,name:"a",onChange:t.onChange})," \u5176\u4ed6 \xa0")),r.createElement("td",null,t.dateVisible&&r.createElement("input",{type:"text",className:"col-xs-4 col-sm-4",onChange:t.onDateChange}))))))},t}return a.d(t,e),a.c([d.l],t.prototype,"dateVisible",void 0),t}(o.s),kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiSchema={items:{validitydate:{widget:"custom",label:"\u6709\u6548\u671f",WidgetClass:Et},discount:{widget:"custom",label:"\u6298\u6263",WidgetClass:wt},preferential:{widget:"text",label:"\u4f18\u60e0\u91d1\u989d",placeholder:"\u8bf7\u8f93\u5165\u4f18\u60e0\u91d1\u989d"},customer:{widget:"id",label:"\u5ba2\u6237",placeholder:"\u8bf7\u9009\u62e9\u5ba2\u6237",pickId:function(e,n,r){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.showAddCouponCustomer(e,n,r)];case 1:return[2,t.sent()]}})})},Templet:function(e){var t=e.name,n=e.unit;return e?r.createElement("div",null,t,r.createElement("small",{className:" mx-3"},Object(o.w)(n,function(e){return r.createElement(r.Fragment,null,e.name)}))):r.createElement("small",{className:"text-muted"},"\u8bf7\u9009\u62e9\u5ba2\u6237")}},submit:{widget:"button",label:"\u63d0\u4ea4",className:"btn btn-primary w-8c"}}},t.onFormButtonClick=function(e,n){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.controller.createCoupon(n.data)];case 1:return e.sent(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller.cApp.cCoupon,i=r.createElement("div",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,n.start()];case 1:return[2,e.sent()]}})})},className:"cursor-pointer py-2 mx-3"},r.createElement(o.e,{name:"ellipsis-h"}));return r.createElement(o.k,{header:"\u4ea7\u751f\u4f18\u60e0\u7801",headerClassName:W.headerClass,right:i},r.createElement(o.f,{ref:function(e){return t.form=e},className:"my-3 mx-3",schema:yt,uiSchema:t.uiSchema,onButtonClick:t.onFormButtonClick,requiredFlag:!1}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.openPage(this.page),[2]})})},t}(o.q),Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=Object(l.a)(function(){var e=t.coupon,n=e.code,i=e.validitydate,c=e.discount,s=e.preferential,u=e.isValid,l=e.customer,m=t.controller.invalidCoupon,d="";n&&(d=(n=String(n+1e8)).substr(1,4)+" "+n.substr(5));var h=[{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",left:"\u4f18\u60e0\u7f16\u53f7\uff1a"},r.createElement("div",{className:"mx-3"},d))},{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",left:"\u6709 \u6548 \u671f \uff1a"},r.createElement("div",{className:"mx-3"},r.createElement(o.c,{date:i})))},{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",left:"\u4f18\u60e0\u529b\u5ea6\uff1a"},r.createElement("div",{className:"mx-3"},"\u6298\u6263\uff1a",c," \u6298  \u91d1\u989d\uff1a",s,"\uffe5"))}];void 0!=l.id&&h.push({type:"component",name:"customer",component:r.createElement(r.Fragment,null,Object(o.w)(l,function(e){return r.createElement(o.h,{className:"cursor-pointer w-100 py-3",left:"\u6307\u5b9a\u5ba2\u6237\uff1a",right:r.createElement("div",null,Object(o.w)(e.unit,function(e){return e.name}))},r.createElement("div",{className:"mx-3"},e.name))}))}),h.push({type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-3",left:"\u5f53\u524d\u72b6\u6001\uff1a"},r.createElement("div",{className:"mx-3"},"  ",t.renderisValid(u)))},{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-1",left:r.createElement("div",null,"\u4f7f\u7528\u60c5\u51b5")})},{type:"component",name:"customer",component:r.createElement(o.h,{className:"cursor-pointer w-100 py-1"},"\u8ba2\u5355ABC")});var p=r.createElement("button",{onClick:function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,m(this.coupon)];case 1:return[2,e.sent()]}})})},type:"submit",className:"btn btn-danger flex-grow-1 mx-3 my-1"},"\u4f5c\u5e9f");return r.createElement(o.k,{header:"\u4f18\u60e0\u7801\u8be6\u60c5",headerClassName:W.headerClass,footer:p},r.createElement(o.m,{className:"my-2",rows:h,values:t.coupon,alignValue:"right"}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.coupon=e,this.openPage(this.page),[2]})})},t.prototype.renderisValid=function(e){return 1==e?"\u6709\u6548":"\u65e0\u6548"},t}(o.q),Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comeBack=function(){t.closePage(2)},t.page=Object(l.a)(function(){var e="";t.code&&(t.code=String(t.code),e=t.code.substr(0,4)+" "+t.code.substr(4));return r.createElement(o.k,{header:"\u4f18\u60e0\u7801",back:"none",headerClassName:"bg-primary py-1 px-3"},r.createElement("div",{className:"w-100 text-center m-3 text-muted"},"\u4f18\u60e0\u7801\u5df2\u751f\u6210\uff0c\u8d76\u5feb\u53d1\u7ed9\u5ba2\u6237\u5427\uff01"),r.createElement("div",{className:"w-100 text-center m-3 fa-2x text-info"},e),r.createElement("div",{className:"w-100 text-center"},r.createElement("label",{className:"text-success",onClick:t.comeBack}," \u8fd4\u56de")))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.code=e,this.openPage(this.page),[2]})})},t}(o.q),Pt=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),St=function(e){function t(t,n){var r=e.call(this,n)||this;r.searchByKey=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.pageCoupon=new Pt(this.querySearchCoupon),this.pageCoupon.first({key:e}),[2]})})},r.showCouponDetail=function(e){return a.b(r,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.tuidCoupon.load(e)];case 1:return t=n.sent(),this.openVPage(Ct,t),[2]}})})},r.IsCanUseCoupon=function(){return a.b(r,void 0,void 0,function(){var e,t;return a.e(this,function(n){switch(n.label){case 0:return e={code:"36747841",webuser:"47"},[4,this.actionIsCanUseCoupon.submit(e)];case 1:return t=n.sent(),t,[2]}})})},r.showCreateCoupon=function(){return a.b(r,void 0,void 0,function(){return a.e(this,function(e){return this.openVPage(kt),[2]})})},r.createCoupon=function(e){return a.b(r,void 0,void 0,function(){var t,n,r,i;return a.e(this,function(a){switch(a.label){case 0:return t=e.customer?e.customer.id:void 0,"-1"==e.discount&&void 0,n={validitydate:e.validitydate,discount:e.discount,preferential:e.preferential,mycustomer:t},[4,this.actionCreateCoupon.submit(n)];case 1:return r=a.sent(),i=r.code,this.openVPage(Nt,i),[2]}})})},r.invalidCoupon=function(e){return a.b(r,void 0,void 0,function(){var t;return a.e(this,function(n){switch(n.label){case 0:return[4,this.tuidCoupon.load(e.id)];case 1:return(t=n.sent()).isValid=2,[4,this.tuidCoupon.save(t.id,t)];case 2:return n.sent(),[2]}})})},r.showAddCouponCustomer=function(e,t,n){return a.b(r,void 0,Promise,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.cApp.cCustomer.call()];case 1:return[2,e.sent()]}})})},r.addCouponCustomer=function(e,t){return a.b(r,void 0,void 0,function(){var n;return a.e(this,function(r){return n={coupon:e.id,customer:t.id},this.actionAddCouponCustomer.submit(n),this.customers.unshift({coupon:e,customer:t}),this.closePage(),[2]})})},r.cApp=t;var i=r.cApp.cUqSalesTask;return r.tuidCoupon=i.tuid("Coupon"),r.querySearchCoupon=i.query("SearchCoupon"),r.querySearchCouponCustomer=i.query("SearchCouponCustomer"),r.actionCreateCoupon=i.action("CreateCoupon"),r.actionAddCouponCustomer=i.action("CreateCouponCustomer"),r.actionIsCanUseCoupon=i.action("IsCanUseCoupon"),r}return a.d(t,e),t.prototype.internalStart=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return this.pageCoupon=null,[4,this.searchByKey(void 0)];case 1:return e.sent(),this.openVPage(gt),this.IsCanUseCoupon(),[2]}})})},a.c([d.l],t.prototype,"pageCoupon",void 0),a.c([d.l],t.prototype,"customers",void 0),t}(o.b),xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickCustomer=function(e){return a.b(t,void 0,void 0,function(){return a.e(this,function(t){switch(t.label){case 0:return[4,this.controller.returnWebUser(e)];case 1:return t.sent(),this.closePage(),[2]}})})},t.page=Object(l.a)(function(e){var n=t.controller.pageWebUser,i=r.createElement("div",{className:"my-3 mx-2 text-warning"},"\u8bf7\u641c\u7d22\u5ba2\u6237\uff01");return r.createElement(o.k,{header:"\u9009\u62e9\u5185\u90e8\u5ba2\u6237",headerClassName:"bg-primary"},r.createElement(o.n,{className:"px-1 w-100  mt-2 mr-2",size:"md",onSearch:function(e){return t.controller.searchByKey(e)},placeholder:"\u641c\u7d22\u5ba2\u6237\u59d3\u540d\u3001\u5355\u4f4d"}),r.createElement(o.i,{before:"",none:i,items:n,item:{render:t.renderCustomer,onClick:t.onClickCustomer}}))}),t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(t){return this.openPage(this.page,e),[2]})})},t.prototype.renderCustomer=function(e,t){var n=e.name;return r.createElement(o.h,{className:"px-3 py-2 ",left:r.createElement(o.e,{name:"user",className:" my-2 mr-3 text-info"})},r.createElement("div",{className:"font-weight-bold"}),r.createElement("div",null,n))},t}(o.q),Tt=function(e){function t(t){var n=e.call(this)||this;return n.firstSize=n.pageSize=10,n.searchQuery=t,n}return a.d(t,e),t.prototype.load=function(e,t,n){return a.b(this,void 0,Promise,function(){return a.e(this,function(r){switch(r.label){case 0:return void 0===t&&(t=0),[4,this.searchQuery.page(e,t,n)];case 1:return[2,r.sent()]}})})},t.prototype.setPageStart=function(e){this.pageStart=void 0===e?0:e.id},t}(o.l),qt=function(e){function t(t,n){var r=e.call(this,n)||this;r.searchByKey=function(e){return a.b(r,void 0,void 0,function(){return a.e(this,function(t){return this.pageWebUser=new Tt(this.querySearchWebUser),this.pageWebUser.first({key:e}),[2]})})},r.returnWebUser=function(e){return a.b(r,void 0,Promise,function(){return a.e(this,function(t){return this.returnCall(e),[2]})})},r.cApp=t;var i=r.cApp.cUqCustomer;return r.querySearchWebUser=i.query("searchCustomer"),r}return a.d(t,e),t.prototype.internalStart=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.pageWebUser=null,this.openVPage(xt),[2]})})},a.c([d.l],t.prototype,"pageWebUser",void 0),t}(o.b),At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.internalStart=function(t){return a.b(this,void 0,void 0,function(){var n,r,i,o;return a.e(this,function(a){switch(a.label){case 0:return this.cUqSalesTask=this.getCUq(W.uqSalesTask),this.cUqCustomer=this.getCUq(W.uqCustomer),this.cUqProduct=this.getCUq(W.uqProduct),this.cUqCommon=this.getCUq(W.uqCommon),this.cUqPromotion=this.getCUq(W.uqPromotion),this.cUqWarehouse=this.getCUq(W.uqWarehouse),this.cCustomer=new Ke(this,void 0),this.cProduct=new Ce(this,void 0),this.cSalesTask=new qe(this,this.res),this.cMe=new Xe(this,void 0),this.cTeam=new ot(this,void 0),this.cStart=new rt(this,void 0),this.cMessage=new ut(this,void 0),this.cCustomerUnit=new bt(this,void 0),this.cCoupon=new St(this,void 0),this.cWebUser=new qt(this,void 0),n=this.cUqCommon.tuid("salesregion"),r=this,[4,n.load(1)];case 1:return r.currentSalesRegion=a.sent(),i=this.cUqCommon.tuid("language"),o=this,[4,i.load(197)];case 2:return o.currentLanguage=a.sent(),this.cStart.start(),[4,e.prototype.internalStart.call(this,t)];case 3:return a.sent(),[2]}})})},t}(o.a),jt=function(e){return!0===e?"text-primary":"text-muted"},It={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/salestask",CApp:At,main:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.render=function(e){var n=t.controller,i=n.cSalesTask,a=n.cCustomer,c=n.cProduct,s=n.cMe,u=n.cMessage,l=[{name:"home",label:"\u4efb\u52a1",content:i.tab,icon:"home",notify:void 0},{name:"member",label:"\u5ba2\u6237",content:a.tab,icon:"vcard"},{name:"member",label:"\u4ea7\u54c1",content:c.tab,icon:"flask"},{name:"member",label:"\u6211",content:s.tab,icon:"user",load:s.load,notify:u.count}].map(function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,caption:function(e){return Object(o.o)(n,r,jt(e))},content:e.content,notify:e.notify,load:e.load}});return r.createElement(o.k,{header:!1},r.createElement(o.p,{tabs:l}))},t.count=d.l.box(0),t.calcSum=function(){t.count.set(0)},t}return a.d(t,e),t.prototype.open=function(e){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return this.calcSum(),this.openPage(this.render),[2]})})},t}(o.q),uqs:{"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/salestask":c}},Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onLogined=function(){return a.b(t,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,Object(o.u)(It)];case 1:return e.sent(),[2]}})})},t}return a.d(t,e),t.prototype.render=function(){return r.createElement(o.j,{onLogined:this.onLogined})},t}(r.Component),Bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(74),n(76);i.render(r.createElement(Vt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="./service-worker.js";Bt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Dt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Dt(e)})}}()}},[[48,4,2]]]);
//# sourceMappingURL=main.685b5781.chunk.js.map